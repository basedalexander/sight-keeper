!function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function r(){function t(t,n){Object.keys(n).forEach(function(r){~e.indexOf(r)||(t[r]=n[r])})}var e=[].slice.call(arguments);return function(){for(var e=[].slice.call(arguments),n=0,r={};n<e.length;n++)t(r,e[n]);return r}}function o(t,e,n){var o=r("name","message","stack","constructor","toJSON"),i=o(e||{});this.message=t||"Unspecified AssertionError",this.showDiff=!1;for(var s in i)this[s]=i[s];n=n||arguments.callee,n&&Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack}e.exports=o,o.prototype=Object.create(Error.prototype),o.prototype.name="AssertionError",o.prototype.constructor=o,o.prototype.toJSON=function(t){var e=r("constructor","toJSON","stack"),n=e({name:this.name},this);return!1!==t&&this.stack&&(n.stack=this.stack),n}},{}],2:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===f?62:e===a||e===h?63:c>e?-1:c+10>e?e-c+26+26:l+26>e?e-l:u+26>e?e-u+26:void 0}function n(t){function n(t){u[f++]=t}var r,o,s,a,c,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;c="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,u=new i(3*t.length/4-c),s=c>0?t.length-4:t.length;var f=0;for(r=0,o=0;s>r;r+=4,o+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===c?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===c&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),u}function o(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,i,s,a=t.length%3,c="";for(o=0,s=t.length-a;s>o;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],c+=n(i);switch(a){case 1:i=t[t.length-1],c+=e(i>>2),c+=e(i<<4&63),c+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],c+=e(i>>10),c+=e(i>>4&63),c+=e(i<<2&63),c+="="}return c}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=o}("undefined"==typeof n?this.base64js={}:n)},{}],3:[function(t,e,n){(function(e){function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof t?s(this,t):"string"==typeof t?a(this,t,arguments.length>1?arguments[1]:"utf8"):c(this,t)):arguments.length>1?new i(t,arguments[1]):new i(t)}function s(t,e){if(t=y(t,0>e?0:0|g(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)t[n]=0;return t}function a(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|v(e,n);return t=y(t,r),t.write(e,n),t}function c(t,e){if(i.isBuffer(e))return u(t,e);if(J(e))return l(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return f(t,e);if(e instanceof ArrayBuffer)return h(t,e)}return e.length?d(t,e):p(t,e)}function u(t,e){var n=0|g(e.length);return t=y(t,n),e.copy(t,0,0,n),t}function l(t,e){var n=0|g(e.length);t=y(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function f(t,e){var n=0|g(e.length);t=y(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(t,e){return i.TYPED_ARRAY_SUPPORT?(e.byteLength,t=i._augment(new Uint8Array(e))):t=f(t,new Uint8Array(e)),t}function d(t,e){var n=0|g(e.length);t=y(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function p(t,e){var n,r=0;"Buffer"===e.type&&J(e.data)&&(n=e.data,r=0|g(n.length)),t=y(t,r);for(var o=0;r>o;o+=1)t[o]=255&n[o];return t}function y(t,e){i.TYPED_ARRAY_SUPPORT?(t=i._augment(new Uint8Array(e)),t.__proto__=i.prototype):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=i.poolSize>>>1;return n&&(t.parent=K),t}function g(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(t,e){if(!(this instanceof m))return new m(t,e);var n=new i(t,e);return delete n.parent,n}function v(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return X(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return C(this,e,n);case"binary":return I(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function x(t,e,n,r){return Y(X(e,t.length-n),t,n,r)}function E(t,e,n,r){return Y(z(e),t,n,r)}function A(t,e,n,r){return E(t,e,n,r)}function k(t,e,n,r){return Y(W(e),t,n,r)}function j(t,e,n,r){return Y(V(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?G.fromByteArray(t):G.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;n>o;){var i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(n>=o+a){var c,u,l,f;switch(a){case 1:128>i&&(s=i);break;case 2:c=t[o+1],128===(192&c)&&(f=(31&i)<<6|63&c,f>127&&(s=f));break;case 3:c=t[o+1],u=t[o+2],128===(192&c)&&128===(192&u)&&(f=(15&i)<<12|(63&c)<<6|63&u,f>2047&&(55296>f||f>57343)&&(s=f));break;case 4:c=t[o+1],u=t[o+2],l=t[o+3],128===(192&c)&&128===(192&u)&&128===(192&l)&&(f=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&l,f>65535&&1114112>f&&(s=f))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=a}return S(r)}function S(t){var e=t.length;if(Z>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(127&t[o]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(t[o]);return r}function P(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=e;n>i;i++)o+=H(t[i]);return o}function _(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,o,s){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||s>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function M(t,e,n,r){0>e&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);i>o;o++)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function N(t,e,n,r){0>e&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);i>o;o++)t[n+o]=e>>>8*(r?o:3-o)&255}function L(t,e,n,r,o,i){if(e>o||i>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function q(t,e,n,r,o){return o||L(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||L(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function U(t){if(t=F(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return 16>t?"0"+t.toString(16):t.toString(16)}function X(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],s=0;r>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(56320>n){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=o-55296<<10|n-56320|65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,128>n){if((e-=1)<0)break;i.push(n)}else if(2048>n){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function V(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function W(t){return G.toByteArray(U(t))}function Y(t,e,n,r){for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}var G=t("base64-js"),$=t("ieee754"),J=t("is-array");n.Buffer=i,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var K={};i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,s=Math.min(n,r);s>o&&t[o]===e[o];)++o;return o!==s&&(n=t[o],r=e[o]),r>n?-1:n>r?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!J(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new i(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new i(e),o=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(r,o),o+=s.length}return r},i.byteLength=v,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):b.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:i.compare(this,t)},i.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,o=0;n+o<t.length;o++)if(t[n+o]===e[-1===r?0:o-r]){if(-1===r&&(r=o),o-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(i.isBuffer(t))return n(this,t,e);if("number"==typeof t)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(t){return this.readUInt8(t)},i.prototype.set=function(t,e){return this.writeUInt8(t,e)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=e,e=0|n,n=o}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return E(this,t,e,n);case"binary":return A(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(t,e));else{var o=e-t;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+t]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},i.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},i.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),$.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),$.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),$.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),$.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||D(this,t,e,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||D(this,t,e,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=0,s=1,a=0>t?1:0;for(this[e]=255&t;++i<n&&(s*=256);)this[e+i]=(t/s>>0)-a&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=(t/s>>0)-a&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return q(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return q(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,s=r-n;if(this===t&&e>n&&r>e)for(o=s-1;o>=0;o--)t[o+e]=this[o+n];else if(1e3>s||!i.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)t[o+e]=this[o+n];else t._set(this.subarray(n,n+s),e);return s},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var o=X(t.toString()),i=o.length;for(r=e;n>r;r++)this[r]=o[r%i]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._set=t.set,t.get=Q.get,t.set=Q.set,t.write=Q.write,t.toString=Q.toString,t.toLocaleString=Q.toString,t.toJSON=Q.toJSON,t.equals=Q.equals,t.compare=Q.compare,t.indexOf=Q.indexOf,t.copy=Q.copy,t.slice=Q.slice,t.readUIntLE=Q.readUIntLE,t.readUIntBE=Q.readUIntBE,t.readUInt8=Q.readUInt8,t.readUInt16LE=Q.readUInt16LE,t.readUInt16BE=Q.readUInt16BE,t.readUInt32LE=Q.readUInt32LE,t.readUInt32BE=Q.readUInt32BE,t.readIntLE=Q.readIntLE,t.readIntBE=Q.readIntBE,t.readInt8=Q.readInt8,t.readInt16LE=Q.readInt16LE,t.readInt16BE=Q.readInt16BE,t.readInt32LE=Q.readInt32LE,t.readInt32BE=Q.readInt32BE,t.readFloatLE=Q.readFloatLE,t.readFloatBE=Q.readFloatBE,t.readDoubleLE=Q.readDoubleLE,t.readDoubleBE=Q.readDoubleBE,t.writeUInt8=Q.writeUInt8,t.writeUIntLE=Q.writeUIntLE,t.writeUIntBE=Q.writeUIntBE,t.writeUInt16LE=Q.writeUInt16LE,t.writeUInt16BE=Q.writeUInt16BE,t.writeUInt32LE=Q.writeUInt32LE,t.writeUInt32BE=Q.writeUInt32BE,t.writeIntLE=Q.writeIntLE,t.writeIntBE=Q.writeIntBE,t.writeInt8=Q.writeInt8,t.writeInt16LE=Q.writeInt16LE,t.writeInt16BE=Q.writeInt16BE,t.writeInt32LE=Q.writeInt32LE,t.writeInt32BE=Q.writeInt32BE,t.writeFloatLE=Q.writeFloatLE,t.writeFloatBE=Q.writeFloatBE,t.writeDoubleLE=Q.writeDoubleLE,t.writeDoubleBE=Q.writeDoubleBE,t.fill=Q.fill,t.inspect=Q.inspect,t.toArrayBuffer=Q.toArrayBuffer,t};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:38,"is-array":40}],4:[function(t,e,n){e.exports=t("./lib/chai")},{"./lib/chai":5}],5:[function(t,e,n){var r=[],n=e.exports={};n.version="3.4.0",n.AssertionError=t("assertion-error");var o=t("./chai/utils");n.use=function(t){return~r.indexOf(t)||(t(this,o),r.push(t)),this},n.util=o;var i=t("./chai/config");n.config=i;var s=t("./chai/assertion");n.use(s);var a=t("./chai/core/assertions");n.use(a);var c=t("./chai/interface/expect");n.use(c);var u=t("./chai/interface/should");n.use(u);var l=t("./chai/interface/assert");n.use(l)},{"./chai/assertion":6,"./chai/config":7,"./chai/core/assertions":8,"./chai/interface/assert":9,"./chai/interface/expect":10,"./chai/interface/should":11,"./chai/utils":25,"assertion-error":1}],6:[function(t,e,n){var r=t("./config");e.exports=function(t,e){function n(t,e,n){i(this,"ssfi",n||arguments.callee),i(this,"object",t),i(this,"message",e)}var o=t.AssertionError,i=e.flag;t.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return r.includeStack},set:function(t){r.includeStack=t}}),Object.defineProperty(n,"showDiff",{get:function(){return r.showDiff},set:function(t){r.showDiff=t}}),n.addProperty=function(t,n){e.addProperty(this.prototype,t,n)},n.addMethod=function(t,n){e.addMethod(this.prototype,t,n)},n.addChainableMethod=function(t,n,r){e.addChainableMethod(this.prototype,t,n,r)},n.overwriteProperty=function(t,n){e.overwriteProperty(this.prototype,t,n)},n.overwriteMethod=function(t,n){e.overwriteMethod(this.prototype,t,n)},n.overwriteChainableMethod=function(t,n,r){e.overwriteChainableMethod(this.prototype,t,n,r)},n.prototype.assert=function(t,n,s,a,c,u){var l=e.test(this,arguments);if(!0!==u&&(u=!1),!0!==r.showDiff&&(u=!1),!l){var n=e.getMessage(this,arguments),f=e.getActual(this,arguments);throw new o(n,{actual:f,expected:a,showDiff:u},r.includeStack?this.assert:i(this,"ssfi"))}},Object.defineProperty(n.prototype,"_obj",{get:function(){return i(this,"object")},set:function(t){i(this,"object",t)}})}},{"./config":7}],7:[function(t,e,n){e.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},{}],8:[function(t,e,n){e.exports=function(t,e){function n(t,n){n&&C(this,"message",n),t=t.toLowerCase();var r=C(this,"object"),o=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(r),"expected #{this} to be "+o+t,"expected #{this} not to be "+o+t)}function r(){C(this,"contains",!0)}function o(t,n){e.expectTypes(this,["array","object","string"]),n&&C(this,"message",n);var r=C(this,"object"),o=!1;if("array"===e.type(r)&&"object"===e.type(t)){for(var i in r)if(e.eql(r[i],t)){o=!0;break}}else if("object"===e.type(t)){if(!C(this,"negate")){for(var s in t)new S(r).property(s,t[s]);return}var a={};for(var s in t)a[s]=r[s];o=e.eql(a,t)}else o=void 0!=r&&~r.indexOf(t);this.assert(o,"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function i(){var t=C(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(t,e){e&&C(this,"message",e);var n=C(this,"object");return C(this,"deep")?this.eql(t):void this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function a(t,n){n&&C(this,"message",n),this.assert(e.eql(t,C(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function c(t,e){e&&C(this,"message",e);var n=C(this,"object");if(C(this,"doLength")){new S(n,e).to.have.property("length");var r=n.length;this.assert(r>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,r)}else this.assert(n>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function u(t,e){e&&C(this,"message",e);var n=C(this,"object");if(C(this,"doLength")){new S(n,e).to.have.property("length");var r=n.length;this.assert(r>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,r)}else this.assert(n>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function l(t,e){e&&C(this,"message",e);var n=C(this,"object");if(C(this,"doLength")){new S(n,e).to.have.property("length");var r=n.length;this.assert(t>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,r)}else this.assert(t>n,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function f(t,e){e&&C(this,"message",e);var n=C(this,"object");if(C(this,"doLength")){new S(n,e).to.have.property("length");var r=n.length;this.assert(t>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,r)}else this.assert(t>=n,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function h(t,n){n&&C(this,"message",n);var r=e.getName(t);this.assert(C(this,"object")instanceof t,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function d(t,n){n&&C(this,"message",n);var r=C(this,"object");this.assert(r.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function p(t,n,r){"string"==typeof n&&(r=n,n=null),r&&C(this,"message",r);var o=C(this,"object"),i=Object.getOwnPropertyDescriptor(Object(o),t);i&&n?this.assert(e.eql(n,i),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to match "+e.inspect(n)+", got "+e.inspect(i),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to not match "+e.inspect(n),n,i,!0):this.assert(i,"expected #{this} to have an own property descriptor for "+e.inspect(t),"expected #{this} to not have an own property descriptor for "+e.inspect(t)),C(this,"object",i)}function y(){C(this,"doLength",!0)}function g(t,e){e&&C(this,"message",e);var n=C(this,"object");new S(n,e).to.have.property("length");var r=n.length;this.assert(r==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,r)}function m(t,e){e&&C(this,"message",e);var n=C(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}function v(t){var n,r=C(this,"object"),o=!0,i="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(e.type(t)){case"array":if(arguments.length>1)throw new Error(i);break;case"object":if(arguments.length>1)throw new Error(i);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}if(!t.length)throw new Error("keys required");var s=Object.keys(r),a=t,c=t.length,u=C(this,"any"),l=C(this,"all");if(u||l||(l=!0),u){var f=a.filter(function(t){return~s.indexOf(t)});o=f.length>0}if(l&&(o=t.every(function(t){return~s.indexOf(t)}),C(this,"negate")||C(this,"contains")||(o=o&&t.length==s.length)),c>1){t=t.map(function(t){return e.inspect(t)});var h=t.pop();l&&(n=t.join(", ")+", and "+h),u&&(n=t.join(", ")+", or "+h)}else n=e.inspect(t[0]);n=(c>1?"keys ":"key ")+n,n=(C(this,"contains")?"contain ":"have ")+n,this.assert(o,"expected #{this} to "+n,"expected #{this} to not "+n,a.slice(0).sort(),s.sort(),!0)}function b(t,n,r){r&&C(this,"message",r);var o=C(this,"object");new S(o,r).is.a("function");var i=!1,s=null,a=null,c=null;0===arguments.length?(n=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(n=t,t=null):t&&t instanceof Error?(s=t,t=null,n=null):"function"==typeof t?(a=t.prototype.name,(!a||"Error"===a&&t!==Error)&&(a=t.name||(new t).name)):t=null;try{o()}catch(u){if(s)return this.assert(u===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),C(this,"object",u),this;if(t&&(this.assert(u instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,u instanceof Error?u.toString():u),!n))return C(this,"object",u),this;var l="error"===e.type(u)&&"message"in u?u.message:""+u;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),C(this,"object",u),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),C(this,"object",u),this;i=!0,c=u}var f="",h=null!==a?a:s?"#{exp}":"an error";i&&(f=" but #{act} was thrown"),this.assert(i===!0,"expected #{this} to throw "+h+f,"expected #{this} to not throw "+h+f,s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),C(this,"object",c)}function w(t,n){n&&C(this,"message",n);var r=C(this,"object"),o=C(this,"itself"),i="function"!==e.type(r)||o?r[t]:r.prototype[t];this.assert("function"==typeof i,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}function x(t,n){n&&C(this,"message",n);var r=C(this,"object"),o=t(r);this.assert(o,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),this.negate?!1:!0,o)}function E(t,n,r){r&&C(this,"message",r);var o=C(this,"object");if(new S(o,r).is.a("number"),"number"!==e.type(t)||"number"!==e.type(n))throw new Error("the arguments to closeTo or approximately must be numbers");this.assert(Math.abs(o-t)<=n,"expected #{this} to be close to "+t+" +/- "+n,"expected #{this} not to be close to "+t+" +/- "+n)}function A(t,e,n){return t.every(function(t){return n?e.some(function(e){return n(t,e)}):-1!==e.indexOf(t)})}function k(t,e){e&&C(this,"message",e);var n=C(this,"object");new S(t).to.be.an("array"),this.assert(t.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",t,n)}function j(t,e,n){n&&C(this,"message",n);var r=C(this,"object");new S(t,n).to.have.property(e),new S(r).is.a("function");var o=t[e];r(),this.assert(o!==t[e],"expected ."+e+" to change","expected ."+e+" to not change")}function T(t,e,n){n&&C(this,"message",n);var r=C(this,"object");new S(t,n).to.have.property(e),new S(r).is.a("function");var o=t[e];r(),this.assert(t[e]-o>0,"expected ."+e+" to increase","expected ."+e+" to not increase")}function O(t,e,n){n&&C(this,"message",n);var r=C(this,"object");new S(t,n).to.have.property(e),new S(r).is.a("function");var o=t[e];r(),this.assert(t[e]-o<0,"expected ."+e+" to decrease","expected ."+e+" to not decrease")}var S=t.Assertion,C=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(t){
S.addProperty(t,function(){return this})}),S.addProperty("not",function(){C(this,"negate",!0)}),S.addProperty("deep",function(){C(this,"deep",!0)}),S.addProperty("any",function(){C(this,"any",!0),C(this,"all",!1)}),S.addProperty("all",function(){C(this,"all",!0),C(this,"any",!1)}),S.addChainableMethod("an",n),S.addChainableMethod("a",n),S.addChainableMethod("include",o,r),S.addChainableMethod("contain",o,r),S.addChainableMethod("contains",o,r),S.addChainableMethod("includes",o,r),S.addProperty("ok",function(){this.assert(C(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),S.addProperty("true",function(){this.assert(!0===C(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),S.addProperty("false",function(){this.assert(!1===C(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),S.addProperty("null",function(){this.assert(null===C(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),S.addProperty("undefined",function(){this.assert(void 0===C(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),S.addProperty("NaN",function(){this.assert(isNaN(C(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),S.addProperty("exist",function(){this.assert(null!=C(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),S.addProperty("empty",function(){var t=C(this,"object"),e=t;Array.isArray(t)||"string"==typeof object?e=t.length:"object"==typeof t&&(e=Object.keys(t).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),S.addProperty("arguments",i),S.addProperty("Arguments",i),S.addMethod("equal",s),S.addMethod("equals",s),S.addMethod("eq",s),S.addMethod("eql",a),S.addMethod("eqls",a),S.addMethod("above",c),S.addMethod("gt",c),S.addMethod("greaterThan",c),S.addMethod("least",u),S.addMethod("gte",u),S.addMethod("below",l),S.addMethod("lt",l),S.addMethod("lessThan",l),S.addMethod("most",f),S.addMethod("lte",f),S.addMethod("within",function(t,e,n){n&&C(this,"message",n);var r=C(this,"object"),o=t+".."+e;if(C(this,"doLength")){new S(r,n).to.have.property("length");var i=r.length;this.assert(i>=t&&e>=i,"expected #{this} to have a length within "+o,"expected #{this} to not have a length within "+o)}else this.assert(r>=t&&e>=r,"expected #{this} to be within "+o,"expected #{this} to not be within "+o)}),S.addMethod("instanceof",h),S.addMethod("instanceOf",h),S.addMethod("property",function(t,n,r){r&&C(this,"message",r);var o=!!C(this,"deep"),i=o?"deep property ":"property ",s=C(this,"negate"),a=C(this,"object"),c=o?e.getPathInfo(t,a):null,u=o?c.exists:e.hasProperty(t,a),l=o?c.value:a[t];if(s&&arguments.length>1){if(void 0===l)throw r=null!=r?r+": ":"",new Error(r+e.inspect(a)+" has no "+i+e.inspect(t))}else this.assert(u,"expected #{this} to have a "+i+e.inspect(t),"expected #{this} to not have "+i+e.inspect(t));arguments.length>1&&this.assert(n===l,"expected #{this} to have a "+i+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+i+e.inspect(t)+" of #{act}",n,l),C(this,"object",l)}),S.addMethod("ownProperty",d),S.addMethod("haveOwnProperty",d),S.addMethod("ownPropertyDescriptor",p),S.addMethod("haveOwnPropertyDescriptor",p),S.addChainableMethod("length",g,y),S.addMethod("lengthOf",g),S.addMethod("match",m),S.addMethod("matches",m),S.addMethod("string",function(t,n){n&&C(this,"message",n);var r=C(this,"object");new S(r,n).is.a("string"),this.assert(~r.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),S.addMethod("keys",v),S.addMethod("key",v),S.addMethod("throw",b),S.addMethod("throws",b),S.addMethod("Throw",b),S.addMethod("respondTo",w),S.addMethod("respondsTo",w),S.addProperty("itself",function(){C(this,"itself",!0)}),S.addMethod("satisfy",x),S.addMethod("satisfies",x),S.addMethod("closeTo",E),S.addMethod("approximately",E),S.addMethod("members",function(t,n){n&&C(this,"message",n);var r=C(this,"object");new S(r).to.be.an("array"),new S(t).to.be.an("array");var o=C(this,"deep")?e.eql:void 0;return C(this,"contains")?this.assert(A(t,r,o),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,t):void this.assert(A(r,t,o)&&A(t,r,o),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,t)}),S.addMethod("oneOf",k),S.addChainableMethod("change",j),S.addChainableMethod("changes",j),S.addChainableMethod("increase",T),S.addChainableMethod("increases",T),S.addChainableMethod("decrease",O),S.addChainableMethod("decreases",O),S.addProperty("extensible",function(){var t,e=C(this,"object");try{t=Object.isExtensible(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!1}this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),S.addProperty("sealed",function(){var t,e=C(this,"object");try{t=Object.isSealed(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!0}this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),S.addProperty("frozen",function(){var t,e=C(this,"object");try{t=Object.isFrozen(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!0}this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})}},{}],9:[function(t,e,n){e.exports=function(t,e){var n=t.Assertion,r=e.flag,o=t.assert=function(e,r){var o=new n(null,null,t.assert);o.assert(e,r,"[ negation message unavailable ]")};o.fail=function(e,n,r,i){throw r=r||"assert.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:i},o.fail)},o.isOk=function(t,e){new n(t,e).is.ok},o.isNotOk=function(t,e){new n(t,e).is.not.ok},o.equal=function(t,e,i){var s=new n(t,i,o.equal);s.assert(e==r(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t)},o.notEqual=function(t,e,i){var s=new n(t,i,o.notEqual);s.assert(e!=r(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t)},o.strictEqual=function(t,e,r){new n(t,r).to.equal(e)},o.notStrictEqual=function(t,e,r){new n(t,r).to.not.equal(e)},o.deepEqual=function(t,e,r){new n(t,r).to.eql(e)},o.notDeepEqual=function(t,e,r){new n(t,r).to.not.eql(e)},o.isAbove=function(t,e,r){new n(t,r).to.be.above(e)},o.isAtLeast=function(t,e,r){new n(t,r).to.be.least(e)},o.isBelow=function(t,e,r){new n(t,r).to.be.below(e)},o.isAtMost=function(t,e,r){new n(t,r).to.be.most(e)},o.isTrue=function(t,e){new n(t,e).is["true"]},o.isNotTrue=function(t,e){new n(t,e).to.not.equal(!0)},o.isFalse=function(t,e){new n(t,e).is["false"]},o.isNotFalse=function(t,e){new n(t,e).to.not.equal(!1)},o.isNull=function(t,e){new n(t,e).to.equal(null)},o.isNotNull=function(t,e){new n(t,e).to.not.equal(null)},o.isNaN=function(t,e){new n(t,e).to.be.NaN},o.isNotNaN=function(t,e){new n(t,e).not.to.be.NaN},o.isUndefined=function(t,e){new n(t,e).to.equal(void 0)},o.isDefined=function(t,e){new n(t,e).to.not.equal(void 0)},o.isFunction=function(t,e){new n(t,e).to.be.a("function")},o.isNotFunction=function(t,e){new n(t,e).to.not.be.a("function")},o.isObject=function(t,e){new n(t,e).to.be.a("object")},o.isNotObject=function(t,e){new n(t,e).to.not.be.a("object")},o.isArray=function(t,e){new n(t,e).to.be.an("array")},o.isNotArray=function(t,e){new n(t,e).to.not.be.an("array")},o.isString=function(t,e){new n(t,e).to.be.a("string")},o.isNotString=function(t,e){new n(t,e).to.not.be.a("string")},o.isNumber=function(t,e){new n(t,e).to.be.a("number")},o.isNotNumber=function(t,e){new n(t,e).to.not.be.a("number")},o.isBoolean=function(t,e){new n(t,e).to.be.a("boolean")},o.isNotBoolean=function(t,e){new n(t,e).to.not.be.a("boolean")},o.typeOf=function(t,e,r){new n(t,r).to.be.a(e)},o.notTypeOf=function(t,e,r){new n(t,r).to.not.be.a(e)},o.instanceOf=function(t,e,r){new n(t,r).to.be.instanceOf(e)},o.notInstanceOf=function(t,e,r){new n(t,r).to.not.be.instanceOf(e)},o.include=function(t,e,r){new n(t,r,o.include).include(e)},o.notInclude=function(t,e,r){new n(t,r,o.notInclude).not.include(e)},o.match=function(t,e,r){new n(t,r).to.match(e)},o.notMatch=function(t,e,r){new n(t,r).to.not.match(e)},o.property=function(t,e,r){new n(t,r).to.have.property(e)},o.notProperty=function(t,e,r){new n(t,r).to.not.have.property(e)},o.deepProperty=function(t,e,r){new n(t,r).to.have.deep.property(e)},o.notDeepProperty=function(t,e,r){new n(t,r).to.not.have.deep.property(e)},o.propertyVal=function(t,e,r,o){new n(t,o).to.have.property(e,r)},o.propertyNotVal=function(t,e,r,o){new n(t,o).to.not.have.property(e,r)},o.deepPropertyVal=function(t,e,r,o){new n(t,o).to.have.deep.property(e,r)},o.deepPropertyNotVal=function(t,e,r,o){new n(t,o).to.not.have.deep.property(e,r)},o.lengthOf=function(t,e,r){new n(t,r).to.have.length(e)},o["throws"]=function(t,e,o,i){("string"==typeof e||e instanceof RegExp)&&(o=e,e=null);var s=new n(t,i).to["throw"](e,o);return r(s,"object")},o.doesNotThrow=function(t,e,r){"string"==typeof e&&(r=e,e=null),new n(t,r).to.not.Throw(e)},o.operator=function(t,o,i,s){var a;switch(o){case"==":a=t==i;break;case"===":a=t===i;break;case">":a=t>i;break;case">=":a=t>=i;break;case"<":a=i>t;break;case"<=":a=i>=t;break;case"!=":a=t!=i;break;case"!==":a=t!==i;break;default:throw new Error('Invalid operator "'+o+'"')}var c=new n(a,s);c.assert(!0===r(c,"object"),"expected "+e.inspect(t)+" to be "+o+" "+e.inspect(i),"expected "+e.inspect(t)+" to not be "+o+" "+e.inspect(i))},o.closeTo=function(t,e,r,o){new n(t,o).to.be.closeTo(e,r)},o.approximately=function(t,e,r,o){new n(t,o).to.be.approximately(e,r)},o.sameMembers=function(t,e,r){new n(t,r).to.have.same.members(e)},o.sameDeepMembers=function(t,e,r){new n(t,r).to.have.same.deep.members(e)},o.includeMembers=function(t,e,r){new n(t,r).to.include.members(e)},o.oneOf=function(t,e,r){new n(t,r).to.be.oneOf(e)},o.changes=function(t,e,r){new n(t).to.change(e,r)},o.doesNotChange=function(t,e,r){new n(t).to.not.change(e,r)},o.increases=function(t,e,r){new n(t).to.increase(e,r)},o.doesNotIncrease=function(t,e,r){new n(t).to.not.increase(e,r)},o.decreases=function(t,e,r){new n(t).to.decrease(e,r)},o.doesNotDecrease=function(t,e,r){new n(t).to.not.decrease(e,r)},o.ifError=function(t){if(t)throw t},o.isExtensible=function(t,e){new n(t,e).to.be.extensible},o.isNotExtensible=function(t,e){new n(t,e).to.not.be.extensible},o.isSealed=function(t,e){new n(t,e).to.be.sealed},o.isNotSealed=function(t,e){new n(t,e).to.not.be.sealed},o.isFrozen=function(t,e){new n(t,e).to.be.frozen},o.isNotFrozen=function(t,e){new n(t,e).to.not.be.frozen},function i(t,e){return o[e]=o[t],i}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")}},{}],10:[function(t,e,n){e.exports=function(t,e){t.expect=function(e,n){return new t.Assertion(e,n)},t.expect.fail=function(e,n,r,o){throw r=r||"expect.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:o},t.expect.fail)}}},{}],11:[function(t,e,n){e.exports=function(t,e){function n(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean?new r(this.valueOf(),null,e):new r(this,null,e)}function n(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:n,get:e,configurable:!0});var o={};return o.fail=function(e,n,r,i){throw r=r||"should.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:i},o.fail)},o.equal=function(t,e,n){new r(t,n).to.equal(e)},o.Throw=function(t,e,n,o){new r(t,o).to.Throw(e,n)},o.exist=function(t,e){new r(t,e).to.exist},o.not={},o.not.equal=function(t,e,n){new r(t,n).to.not.equal(e)},o.not.Throw=function(t,e,n,o){new r(t,o).to.not.Throw(e,n)},o.not.exist=function(t,e){new r(t,e).to.not.exist},o["throw"]=o.Throw,o.not["throw"]=o.not.Throw,o}var r=t.Assertion;t.should=n,t.Should=n}},{}],12:[function(t,e,n){var r=t("./transferFlags"),o=t("./flag"),i=t("../config"),s="__proto__"in Object,a=/^(?:length|name|arguments|caller)$/,c=Function.prototype.call,u=Function.prototype.apply;e.exports=function(t,e,n,l){"function"!=typeof l&&(l=function(){});var f={method:n,chainingBehavior:l};t.__methods||(t.__methods={}),t.__methods[e]=f,Object.defineProperty(t,e,{get:function(){f.chainingBehavior.call(this);var e=function h(){var t=o(this,"ssfi");t&&i.includeStack===!1&&o(this,"ssfi",h);var e=f.method.apply(this,arguments);return void 0===e?this:e};if(s){var n=e.__proto__=Object.create(this);n.call=c,n.apply=u}else{var l=Object.getOwnPropertyNames(t);l.forEach(function(n){if(!a.test(n)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r)}})}return r(this,e),e},configurable:!0})}},{"../config":7,"./flag":16,"./transferFlags":32}],13:[function(t,e,n){var r=t("../config"),o=t("./flag");e.exports=function(t,e,n){t[e]=function(){var i=o(this,"ssfi");i&&r.includeStack===!1&&o(this,"ssfi",t[e]);var s=n.apply(this,arguments);return void 0===s?this:s}}},{"../config":7,"./flag":16}],14:[function(t,e,n){var r=t("../config"),o=t("./flag");e.exports=function(t,e,n){Object.defineProperty(t,e,{get:function i(){var t=o(this,"ssfi");t&&r.includeStack===!1&&o(this,"ssfi",i);var e=n.call(this);return void 0===e?this:e},configurable:!0})}},{"../config":7,"./flag":16}],15:[function(t,e,n){var r=t("assertion-error"),o=t("./flag"),i=t("type-detect");e.exports=function(t,e){var t=o(t,"object");e=e.map(function(t){return t.toLowerCase()}),e.sort();var n=e.map(function(t,n){var r=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an":"a",o=e.length>1&&n===e.length-1?"or ":"";return o+r+" "+t}).join(", ");if(!e.some(function(e){return i(t)===e}))throw new r("object tested must be "+n+", but "+i(t)+" given")}},{"./flag":16,"assertion-error":1,"type-detect":69}],16:[function(t,e,n){e.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));return 3!==arguments.length?r[e]:void(r[e]=n)}},{}],17:[function(t,e,n){e.exports=function(t,e){return e.length>4?e[4]:t._obj}},{}],18:[function(t,e,n){e.exports=function(t){var e=[];for(var n in t)e.push(n);return e}},{}],19:[function(t,e,n){var r=t("./flag"),o=t("./getActual"),i=(t("./inspect"),t("./objDisplay"));e.exports=function(t,e){var n=r(t,"negate"),s=r(t,"object"),a=e[3],c=o(t,e),u=n?e[2]:e[1],l=r(t,"message");return"function"==typeof u&&(u=u()),u=u||"",u=u.replace(/#{this}/g,i(s)).replace(/#{act}/g,i(c)).replace(/#{exp}/g,i(a)),l?l+": "+u:u}},{"./flag":16,"./getActual":17,"./inspect":26,"./objDisplay":27}],20:[function(t,e,n){e.exports=function(t){if(t.name)return t.name;var e=/^\s?function ([^(]*)\(/.exec(t);return e&&e[1]?e[1]:""}},{}],21:[function(t,e,n){function r(t){var e=t.replace(/([^\\])\[/g,"$1.["),n=e.match(/(\\\.|[^.]+?)+/g);return n.map(function(t){var e=/^\[(\d+)\]$/,n=e.exec(t);return n?{i:parseFloat(n[1])}:{p:t.replace(/\\([.\[\]])/g,"$1")}})}function o(t,e,n){var r,o=e;n=void 0===n?t.length:n;for(var i=0,s=n;s>i;i++){var a=t[i];o?("undefined"!=typeof a.p?o=o[a.p]:"undefined"!=typeof a.i&&(o=o[a.i]),i==s-1&&(r=o)):r=void 0}return r}var i=t("./hasProperty");e.exports=function(t,e){var n=r(t),s=n[n.length-1],a={parent:n.length>1?o(n,e,n.length-1):e,name:s.p||s.i,value:o(n,e)};return a.exists=i(a.name,a.parent),a}},{"./hasProperty":24}],22:[function(t,e,n){var r=t("./getPathInfo");e.exports=function(t,e){var n=r(t,e);return n.value}},{"./getPathInfo":21}],23:[function(t,e,n){e.exports=function(t){function e(t){-1===n.indexOf(t)&&n.push(t)}for(var n=Object.getOwnPropertyNames(t),r=Object.getPrototypeOf(t);null!==r;)Object.getOwnPropertyNames(r).forEach(e),r=Object.getPrototypeOf(r);return n}},{}],24:[function(t,e,n){var r=t("type-detect"),o={number:Number,string:String};e.exports=function(t,e){var n=r(e);return"null"===n||"undefined"===n?!1:(o[n]&&"object"!=typeof e&&(e=new o[n](e)),t in e)}},{"type-detect":69}],25:[function(t,e,n){var n=e.exports={};n.test=t("./test"),n.type=t("type-detect"),n.expectTypes=t("./expectTypes"),n.getMessage=t("./getMessage"),n.getActual=t("./getActual"),n.inspect=t("./inspect"),n.objDisplay=t("./objDisplay"),n.flag=t("./flag"),n.transferFlags=t("./transferFlags"),n.eql=t("deep-eql"),n.getPathValue=t("./getPathValue"),n.getPathInfo=t("./getPathInfo"),n.hasProperty=t("./hasProperty"),n.getName=t("./getName"),n.addProperty=t("./addProperty"),n.addMethod=t("./addMethod"),n.overwriteProperty=t("./overwriteProperty"),n.overwriteMethod=t("./overwriteMethod"),n.addChainableMethod=t("./addChainableMethod"),n.overwriteChainableMethod=t("./overwriteChainableMethod")},{"./addChainableMethod":12,"./addMethod":13,"./addProperty":14,"./expectTypes":15,"./flag":16,"./getActual":17,"./getMessage":19,"./getName":20,"./getPathInfo":21,"./getPathValue":22,"./hasProperty":24,"./inspect":26,"./objDisplay":27,"./overwriteChainableMethod":28,"./overwriteMethod":29,"./overwriteProperty":30,"./test":31,"./transferFlags":32,"deep-eql":33,"type-detect":69}],26:[function(t,e,n){function r(t,e,n,r){var i={showHidden:e,seen:[],stylize:function(t){return t}};return o(i,t,"undefined"==typeof n?2:n)}function o(t,e,r){if(e&&"function"==typeof e.inspect&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var p=e.inspect(r);return"string"!=typeof p&&(p=o(t,p,r)),p}var b=i(t,e);if(b)return b;if(v(e)){if("outerHTML"in e)return e.outerHTML;try{if(document.xmlVersion){var w=new XMLSerializer;return w.serializeToString(e)}var x="http://www.w3.org/1999/xhtml",E=document.createElementNS(x,"_");return E.appendChild(e.cloneNode(!1)),html=E.innerHTML.replace("><",">"+e.innerHTML+"<"),E.innerHTML="",html}catch(A){}}var k=m(e),j=t.showHidden?g(e):k;if(0===j.length||d(e)&&(1===j.length&&"stack"===j[0]||2===j.length&&"description"===j[0]&&"stack"===j[1])){if("function"==typeof e){var T=y(e),O=T?": "+T:"";return t.stylize("[Function"+O+"]","special")}if(f(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(h(e))return t.stylize(Date.prototype.toUTCString.call(e),"date");if(d(e))return s(e)}var S="",C=!1,I=["{","}"];if(l(e)&&(C=!0,I=["[","]"]),"function"==typeof e){var T=y(e),O=T?": "+T:"";S=" [Function"+O+"]"}if(f(e)&&(S=" "+RegExp.prototype.toString.call(e)),h(e)&&(S=" "+Date.prototype.toUTCString.call(e)),d(e))return s(e);if(0===j.length&&(!C||0==e.length))return I[0]+S+I[1];if(0>r)return f(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var P;return P=C?a(t,e,r,k,j):j.map(function(n){return c(t,e,r,k,n,C)}),t.seen.pop(),u(P,S,I)}function i(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return 0===e&&1/e===-(1/0)?t.stylize("-0","number"):t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return null===e?t.stylize("null","null"):void 0}function s(t){return"["+Error.prototype.toString.call(t)+"]"}function a(t,e,n,r,o){for(var i=[],s=0,a=e.length;a>s;++s)Object.prototype.hasOwnProperty.call(e,String(s))?i.push(c(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(c(t,e,n,r,o,!0))}),i}function c(t,e,n,r,i,s){var a,c;if(e.__lookupGetter__&&(e.__lookupGetter__(i)?c=e.__lookupSetter__(i)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(i)&&(c=t.stylize("[Setter]","special"))),r.indexOf(i)<0&&(a="["+i+"]"),c||(t.seen.indexOf(e[i])<0?(c=null===n?o(t,e[i],null):o(t,e[i],n-1),c.indexOf("\n")>-1&&(c=s?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&i.match(/^\d+$/))return c;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function u(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function l(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===p(t)}function f(t){return"object"==typeof t&&"[object RegExp]"===p(t)}function h(t){return"object"==typeof t&&"[object Date]"===p(t)}function d(t){return"object"==typeof t&&"[object Error]"===p(t)}function p(t){return Object.prototype.toString.call(t)}var y=t("./getName"),g=t("./getProperties"),m=t("./getEnumerableProperties");e.exports=r;var v=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}},{"./getEnumerableProperties":18,"./getName":20,"./getProperties":23}],27:[function(t,e,n){var r=t("./inspect"),o=t("../config");e.exports=function(t){var e=r(t),n=Object.prototype.toString.call(t);if(o.truncateThreshold&&e.length>=o.truncateThreshold){if("[object Function]"===n)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+t.length+") ]";if("[object Object]"===n){var i=Object.keys(t),s=i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", ");return"{ Object ("+s+") }"}return e}return e}},{"../config":7,"./inspect":26}],28:[function(t,e,n){e.exports=function(t,e,n,r){var o=t.__methods[e],i=o.chainingBehavior;o.chainingBehavior=function(){var t=r(i).call(this);return void 0===t?this:t};var s=o.method;o.method=function(){var t=n(s).apply(this,arguments);return void 0===t?this:t}}},{}],29:[function(t,e,n){e.exports=function(t,e,n){var r=t[e],o=function(){return this};r&&"function"==typeof r&&(o=r),t[e]=function(){var t=n(o).apply(this,arguments);return void 0===t?this:t}}},{}],30:[function(t,e,n){e.exports=function(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e),o=function(){};r&&"function"==typeof r.get&&(o=r.get),Object.defineProperty(t,e,{get:function(){var t=n(o).call(this);return void 0===t?this:t},configurable:!0})}},{}],31:[function(t,e,n){var r=t("./flag");e.exports=function(t,e){var n=r(t,"negate"),o=e[0];return n?!o:o}},{"./flag":16}],32:[function(t,e,n){e.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var o in r)(n||"object"!==o&&"ssfi"!==o&&"message"!=o)&&(e.__flags[o]=r[o])}},{}],33:[function(t,e,n){e.exports=t("./lib/eql")},{"./lib/eql":34}],34:[function(t,e,n){function r(t,e,n){return o(t,e)?!0:"date"===y(t)?s(t,e):"regexp"===y(t)?a(t,e):p.isBuffer(t)?f(t,e):"arguments"===y(t)?c(t,e,n):i(t,e)?"object"!==y(t)&&"object"!==y(e)&&"array"!==y(t)&&"array"!==y(e)?o(t,e):d(t,e,n):!1}function o(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function i(t,e){return y(t)===y(e)}function s(t,e){return"date"!==y(e)?!1:o(t.getTime(),e.getTime())}function a(t,e){return"regexp"!==y(e)?!1:o(t.toString(),e.toString())}function c(t,e,n){return"arguments"!==y(e)?!1:(t=[].slice.call(t),e=[].slice.call(e),r(t,e,n))}function u(t){var e=[];for(var n in t)e.push(n);return e}function l(t,e){if(t.length!==e.length)return!1;for(var n=0,r=!0;n<t.length;n++)if(t[n]!==e[n]){r=!1;break}return r}function f(t,e){return p.isBuffer(e)?l(t,e):!1}function h(t){return null!==t&&void 0!==t}function d(t,e,n){if(!h(t)||!h(e))return!1;if(t.prototype!==e.prototype)return!1;var o;if(n){for(o=0;o<n.length;o++)if(n[o][0]===t&&n[o][1]===e||n[o][0]===e&&n[o][1]===t)return!0}else n=[];try{var i=u(t),s=u(e)}catch(a){return!1}if(i.sort(),s.sort(),!l(i,s))return!1;n.push([t,e]);var c;for(o=i.length-1;o>=0;o--)if(c=i[o],!r(t[c],e[c],n))return!1;return!0}var p,y=t("type-detect");try{p=t("buffer").Buffer}catch(g){p={},p.isBuffer=function(){return!1}}e.exports=r},{buffer:3,"type-detect":35}],35:[function(t,e,n){e.exports=t("./lib/type")},{"./lib/type":36}],36:[function(t,e,n){function r(t){var e=Object.prototype.toString.call(t);return i[e]?i[e]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}function o(){this.tests={}}var n=e.exports=r,i={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};n.Library=o,o.prototype.of=r,o.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},o.prototype.test=function(t,e){if(e===r(t))return!0;var n=this.tests[e];if(n&&"regexp"===r(n))return n.test(t);if(n&&"function"===r(n))return n(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},{}],37:[function(t,e,n){(function(n){("function"==typeof define&&define.amd&&function(t){define("formatio",["samsam"],t)}||"object"==typeof e&&function(n){e.exports=n(t("samsam"))}||function(t){this.formatio=t(this.samsam)})(function(t){"use strict";function e(t){if(!t)return"";if(t.displayName)return t.displayName;if(t.name)return t.name;var e=t.toString().match(/function\s+([^\(]+)/m);return e&&e[1]||""}function r(t,n){var r,o,i=e(n&&n.constructor),s=t.excludeConstructors||a.excludeConstructors||[];for(r=0,o=s.length;o>r;++r){if("string"==typeof s[r]&&s[r]===i)return"";if(s[r].test&&s[r].test(i))return""}return i}function o(t,e){if("object"!=typeof t)return!1;var n,r;for(n=0,r=e.length;r>n;++n)if(e[n]===t)return!0;return!1}function i(e,n,r,s){if("string"==typeof n){var a=e.quoteStrings,u="boolean"!=typeof a||a;return r||u?'"'+n+'"':n}if("function"==typeof n&&!(n instanceof RegExp))return i.func(n);if(r=r||[],o(n,r))return"[Circular]";if("[object Array]"===Object.prototype.toString.call(n))return i.array.call(e,n,r);if(!n)return String(1/n===-(1/0)?"-0":n);if(t.isElement(n))return i.element(n);if("function"==typeof n.toString&&n.toString!==Object.prototype.toString)return n.toString();var l,f;for(l=0,f=c.length;f>l;l++)if(n===c[l].object)return c[l].value;return i.object.call(e,n,r,s)}function s(t){for(var e in t)this[e]=t[e]}var a={excludeConstructors:["Object",/^.$/],quoteStrings:!0,limitChildrenCount:0},c=(Object.prototype.hasOwnProperty,[]);return"undefined"!=typeof n&&c.push({object:n,value:"[object global]"}),"undefined"!=typeof document&&c.push({object:document,value:"[object HTMLDocument]"}),"undefined"!=typeof window&&c.push({object:window,value:"[object Window]"}),i.func=function(t){return"function "+e(t)+"() {}"},i.array=function(t,e){e=e||[],e.push(t);var n,r,o=[];for(r=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,t.length):t.length,n=0;r>n;++n)o.push(i(this,t[n],e));return r<t.length&&o.push("[... "+(t.length-r)+" more elements]"),"["+o.join(", ")+"]"},i.object=function(e,n,s){n=n||[],n.push(e),s=s||0;var a,c,u,l,f,h,d=[],p=t.keys(e).sort(),y=3;for(h=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,p.length):p.length,l=0;h>l;++l)a=p[l],u=e[a],c=o(u,n)?"[Circular]":i(this,u,n,s+2),c=(/\s/.test(a)?'"'+a+'"':a)+": "+c,y+=c.length,d.push(c);var g=r(this,e),m=g?"["+g+"] ":"",v="";for(l=0,f=s;f>l;++l)v+=" ";return h<p.length&&d.push("[... "+(p.length-h)+" more elements]"),y+s>80?m+"{\n  "+v+d.join(",\n  "+v)+"\n"+v+"}":m+"{ "+d.join(", ")+" }"},i.element=function(t){var e,n,r,o,i,s=t.tagName.toLowerCase(),a=t.attributes,c=[];for(r=0,o=a.length;o>r;++r)e=a.item(r),n=e.nodeName.toLowerCase().replace("html:",""),i=e.nodeValue,("contenteditable"!==n||"inherit"!==i)&&i&&c.push(n+'="'+i+'"');var u="<"+s+(c.length>0?" ":""),l=t.innerHTML;l.length>20&&(l=l.substr(0,20)+"[...]");var f=u+c.join(" ")+">"+l+"</"+s+">";return f.replace(/ contentEditable="inherit"/,"")},s.prototype={functionName:e,configure:function(t){return new s(t)},constructorName:function(t){return r(this,t)},ascii:function(t,e,n){return i(this,t,e,n)}},s.prototype})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{samsam:43}],38:[function(t,e,n){n.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,h=n?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,r),i-=u}return(d?-1:1)*s*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,y=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+f>=1?h/c:h*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*y}},{}],39:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],40:[function(t,e,n){var r=Array.isArray,o=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==o.call(t)}},{}],41:[function(require,module,exports){(function(global){!function(global){"use strict";function parseTime(t){if(!t)return 0;var e,n=t.split(":"),r=n.length,o=r,i=0;if(r>3||!/^(\d\d:){0,2}\d\d?$/.test(t))throw new Error("tick only understands numbers and 'h:m:s'");for(;o--;){if(e=parseInt(n[o],10),e>=60)throw new Error("Invalid time "+t);i+=e*Math.pow(60,r-o-1)}return 1e3*i}function getEpoch(t){if(!t)return 0;if("function"==typeof t.getTime)return t.getTime();if("number"==typeof t)return t;throw new TypeError("now should be milliseconds since UNIX epoch")}function inRange(t,e,n){return n&&n.callAt>=t&&n.callAt<=e}function mirrorDateProperties(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.now?t.now=function(){return t.clock.now}:delete t.now,e.toSource?t.toSource=function(){return e.toSource()}:delete t.toSource,t.toString=function(){return e.toString()},t.prototype=e.prototype,t.parse=e.parse,t.UTC=e.UTC,t.prototype.toUTCString=e.prototype.toUTCString,t}function createDate(){function t(e,n,r,o,i,s,a){switch(arguments.length){case 0:return new NativeDate(t.clock.now);case 1:return new NativeDate(e);case 2:return new NativeDate(e,n);case 3:return new NativeDate(e,n,r);case 4:return new NativeDate(e,n,r,o);case 5:return new NativeDate(e,n,r,o,i);case 6:return new NativeDate(e,n,r,o,i,s);default:return new NativeDate(e,n,r,o,i,s,a)}}return mirrorDateProperties(t,NativeDate)}function addTimer(t,e){if(void 0===e.func)throw new Error("Callback must be provided to timer calls");return t.timers||(t.timers={}),e.id=uniqueTimerId++,e.createdAt=t.now,e.callAt=t.now+(e.delay||(t.duringTick?1:0)),t.timers[e.id]=e,addTimerReturnsObject?{id:e.id,ref:NOOP,unref:NOOP}:e.id}function compareTimers(t,e){return t.callAt<e.callAt?-1:t.callAt>e.callAt?1:t.immediate&&!e.immediate?-1:!t.immediate&&e.immediate?1:t.createdAt<e.createdAt?-1:t.createdAt>e.createdAt?1:t.id<e.id?-1:t.id>e.id?1:void 0}function firstTimerInRange(t,e,n){var r,o,i=t.timers,s=null;for(r in i)i.hasOwnProperty(r)&&(o=inRange(e,n,i[r]),!o||s&&1!==compareTimers(s,i[r])||(s=i[r]));return s}function callTimer(clock,timer){var exception;"number"==typeof timer.interval?clock.timers[timer.id].callAt+=timer.interval:delete clock.timers[timer.id];try{"function"==typeof timer.func?timer.func.apply(null,timer.args):eval(timer.func)}catch(e){exception=e}if(clock.timers[timer.id]){if(exception)throw exception}else if(exception)throw exception}function timerType(t){return t.immediate?"Immediate":"undefined"!=typeof t.interval?"Interval":"Timeout"}function clearTimer(t,e,n){if(e&&(t.timers||(t.timers=[]),"object"==typeof e&&(e=e.id),t.timers.hasOwnProperty(e))){var r=t.timers[e];
if(timerType(r)!==n)throw new Error("Cannot clear timer: timer created with set"+n+"() but cleared with clear"+timerType(r)+"()");delete t.timers[e]}}function uninstall(t,e){var n,r,o;for(r=0,o=t.methods.length;o>r;r++)if(n=t.methods[r],e[n].hadOwnProperty)e[n]=t["_"+n];else try{delete e[n]}catch(i){}t.methods=[]}function hijackMethod(t,e,n){var r;if(n[e].hadOwnProperty=Object.prototype.hasOwnProperty.call(t,e),n["_"+e]=t[e],"Date"===e){var o=mirrorDateProperties(n[e],t[e]);t[e]=o}else{t[e]=function(){return n[e].apply(n,arguments)};for(r in n[e])n[e].hasOwnProperty(r)&&(t[e][r]=n[e][r])}t[e].clock=n}function createClock(t){var e={now:getEpoch(t),timeouts:{},Date:createDate()};return e.Date.clock=e,e.setTimeout=function(t,n){return addTimer(e,{func:t,args:Array.prototype.slice.call(arguments,2),delay:n})},e.clearTimeout=function(t){return clearTimer(e,t,"Timeout")},e.setInterval=function(t,n){return addTimer(e,{func:t,args:Array.prototype.slice.call(arguments,2),delay:n,interval:n})},e.clearInterval=function(t){return clearTimer(e,t,"Interval")},e.setImmediate=function(t){return addTimer(e,{func:t,args:Array.prototype.slice.call(arguments,1),immediate:!0})},e.clearImmediate=function(t){return clearTimer(e,t,"Immediate")},e.tick=function(t){t="number"==typeof t?t:parseTime(t);var n,r=e.now,o=e.now+t,i=e.now,s=firstTimerInRange(e,r,o);e.duringTick=!0;for(var a;s&&o>=r;){if(e.timers[s.id]){r=e.now=s.callAt;try{n=e.now,callTimer(e,s),n!==e.now&&(r+=e.now-n,o+=e.now-n,i+=e.now-n)}catch(c){a=a||c}}s=firstTimerInRange(e,i,o),i=r}if(e.duringTick=!1,e.now=o,a)throw a;return e.now},e.reset=function(){e.timers={}},e.setSystemTime=function(t){var n=getEpoch(t),r=n-e.now;e.now=n;for(var o in e.timers)if(e.timers.hasOwnProperty(o)){var i=e.timers[o];i.createdAt+=r,i.callAt+=r}},e}var glbl=global;global.setTimeout=glbl.setTimeout,global.clearTimeout=glbl.clearTimeout,global.setInterval=glbl.setInterval,global.clearInterval=glbl.clearInterval,global.Date=glbl.Date,"setImmediate"in global&&(global.setImmediate=glbl.setImmediate,global.clearImmediate=glbl.clearImmediate);var NOOP=function(){return void 0},timeoutResult=setTimeout(NOOP,0),addTimerReturnsObject="object"==typeof timeoutResult;clearTimeout(timeoutResult);var NativeDate=Date,uniqueTimerId=1,timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:global.setImmediate,clearImmediate:global.clearImmediate,setInterval:setInterval,clearInterval:clearInterval,Date:Date},keys=Object.keys||function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n};exports.timers=timers,exports.createClock=createClock,exports.install=function(t,e,n){var r,o;"number"==typeof t&&(n=e,e=t,t=null),t||(t=global);var i=createClock(e);for(i.uninstall=function(){uninstall(i,t)},i.methods=n||[],0===i.methods.length&&(i.methods=keys(timers)),r=0,o=i.methods.length;o>r;r++)hijackMethod(t,i.methods[r],i);return i}}(global||this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(t,e,n){function r(){l=!1,a.length?u=a.concat(u):f=-1,u.length&&o()}function o(){if(!l){var t=setTimeout(r);l=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function s(){}var a,c=e.exports={},u=[],l=!1,f=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new i(t,e)),1!==u.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],43:[function(t,e,n){("function"==typeof define&&define.amd&&function(t){define("samsam",t)}||"object"==typeof e&&function(t){e.exports=t()}||function(t){this.samsam=t()})(function(){function t(t){var e=t;return"number"==typeof t&&t!==e}function e(t){return f.toString.call(t).split(/[ \]]/)[1]}function n(t){if("Arguments"===e(t))return!0;if("object"!=typeof t||"number"!=typeof t.length||"Array"===e(t))return!1;if("function"==typeof t.callee)return!0;try{t[t.length]=6,delete t[t.length]}catch(n){return!0}return!1}function r(t){if(!t||1!==t.nodeType||!h)return!1;try{t.appendChild(h),t.removeChild(h)}catch(e){return!1}return!0}function o(t){var e,n=[];for(e in t)f.hasOwnProperty.call(t,e)&&n.push(e);return n}function i(t){return"function"==typeof t.getTime&&t.getTime()==t.valueOf()}function s(t){return 0===t&&1/t===-(1/0)}function a(e,n){return e===n||t(e)&&t(n)?0!==e||s(e)===s(n):void 0}function c(s,c){function u(t){return"object"!=typeof t||null===t||t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof RegExp||t instanceof String?!1:!0}function l(t,e){var n;for(n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var h=[],d=[],p=[],y=[],g={};return function m(s,c,v,b){var w=typeof s,x=typeof c;if(s===c||t(s)||t(c)||null==s||null==c||"object"!==w||"object"!==x)return a(s,c);if(r(s)||r(c))return!1;var E=i(s),A=i(c);if((E||A)&&(!E||!A||s.getTime()!==c.getTime()))return!1;if(s instanceof RegExp&&c instanceof RegExp&&s.toString()!==c.toString())return!1;var k=e(s),j=e(c),T=o(s),O=o(c);if(n(s)||n(c)){if(s.length!==c.length)return!1}else if(w!==x||k!==j||T.length!==O.length)return!1;var S,C,I,P,_,R,D,M,N,L,q;for(C=0,I=T.length;I>C;C++){if(S=T[C],!f.hasOwnProperty.call(c,S))return!1;if(P=s[S],_=c[S],R=u(P),D=u(_),M=R?l(h,P):-1,N=D?l(d,_):-1,L=-1!==M?p[M]:v+"["+JSON.stringify(S)+"]",q=-1!==N?y[N]:b+"["+JSON.stringify(S)+"]",g[L+q])return!0;if(-1===M&&R&&(h.push(P),p.push(L)),-1===N&&D&&(d.push(_),y.push(q)),R&&D&&(g[L+q]=!0),!m(P,_,L,q))return!1}return!0}(s,c,"$1","$2")}function u(t,e){if(0===e.length)return!0;var n,r,o,i;for(n=0,r=t.length;r>n;++n)if(l(t[n],e[0])){for(o=0,i=e.length;i>o;++o)if(!l(t[n+o],e[o]))return!1;return!0}return!1}var l,f=Object.prototype,h="undefined"!=typeof document&&document.createElement("div");return l=function d(t,n){if(n&&"function"==typeof n.test)return n.test(t);if("function"==typeof n)return n(t)===!0;if("string"==typeof n){n=n.toLowerCase();var r="string"==typeof t||!!t;return r&&String(t).toLowerCase().indexOf(n)>=0}if("number"==typeof n)return n===t;if("boolean"==typeof n)return n===t;if("undefined"==typeof n)return"undefined"==typeof t;if(null===n)return null===t;if("Array"===e(t)&&"Array"===e(n))return u(t,n);if(n&&"object"==typeof n){if(n===t)return!0;var o;for(o in n){var i=t[o];if("undefined"==typeof i&&"function"==typeof t.getAttribute&&(i=t.getAttribute(o)),null===n[o]||"undefined"==typeof n[o]){if(i!==n[o])return!1}else if("undefined"==typeof i||!d(i,n[o]))return!1}return!0}throw new Error("Matcher was not a string, a number, a function, a boolean or an object")},{isArguments:n,isElement:r,isDate:i,isNegZero:s,identical:a,deepEqual:c,match:l,keys:o}})},{}],44:[function(t,e,n){(function(){"use strict";function n(t,e,n){r=n.exports=t("./sinon/util/core"),t("./sinon/extend"),t("./sinon/walk"),t("./sinon/typeOf"),t("./sinon/times_in_words"),t("./sinon/spy"),t("./sinon/call"),t("./sinon/behavior"),t("./sinon/stub"),t("./sinon/mock"),t("./sinon/collection"),t("./sinon/assert"),t("./sinon/sandbox"),t("./sinon/test"),t("./sinon/test_case"),t("./sinon/match"),t("./sinon/format"),t("./sinon/log_error")}var r,o="undefined"!=typeof e&&e.exports&&"function"==typeof t,i="function"==typeof define&&"object"==typeof define.amd&&define.amd;return i?define(n):o?(n(t,e.exports,e),r=e.exports):r={},r})()},{"./sinon/assert":45,"./sinon/behavior":46,"./sinon/call":47,"./sinon/collection":48,"./sinon/extend":49,"./sinon/format":50,"./sinon/log_error":51,"./sinon/match":52,"./sinon/mock":53,"./sinon/sandbox":54,"./sinon/spy":55,"./sinon/stub":56,"./sinon/test":57,"./sinon/test_case":58,"./sinon/times_in_words":59,"./sinon/typeOf":60,"./sinon/util/core":61,"./sinon/walk":68}],45:[function(t,e,n){(function(n){!function(n,r){"use strict";function o(t){function e(){for(var t,n=0,r=arguments.length;r>n;++n)t=arguments[n],t||a.fail("fake is not a spy"),t.proxy&&t.proxy.isSinonProxy?e(t.proxy):("function"!=typeof t&&a.fail(t+" is not a function"),"function"!=typeof t.getCall&&a.fail(t+" is not stubbed"))}function n(t,e){t=t||r;var n=t.fail||a.fail;n.call(t,e)}function o(t,r,o){2===arguments.length&&(o=r,r=t),a[t]=function(i){e(i);var c=s.call(arguments,1),u=!1;u="function"==typeof r?!r(i):"function"==typeof i[r]?!i[r].apply(i,c):!i[r],u?n(this,(i.printf||i.proxy.printf).apply(i,[o].concat(c))):a.pass(t)}}function i(t,e){return!t||/^fail/.test(e)?e:t+e.slice(0,1).toUpperCase()+e.slice(1)}var a;return a={failException:"AssertError",fail:function(t){var e=new Error(t);throw e.name=this.failException||a.failException,e},pass:function(){},callOrder:function(){e.apply(null,arguments);var r="",o="";if(t.calledInOrder(arguments))a.pass("callOrder");else{try{r=[].join.call(arguments,", ");for(var i=s.call(arguments),c=i.length;c;)i[--c].called||i.splice(c,1);o=t.orderByFirstCall(i).join(", ")}catch(u){}n(this,"expected "+r+" to be called in order but were called as "+o)}},callCount:function(r,o){if(e(r),r.callCount!==o){var i="expected %n to be called "+t.timesInWords(o)+" but was called %c%C";n(this,r.printf(i))}else a.pass("callCount")},expose:function(t,e){if(!t)throw new TypeError("target is null or undefined");var n=e||{},r="undefined"==typeof n.prefix&&"assert"||n.prefix,o="undefined"==typeof n.includeFail||!!n.includeFail;for(var s in this)"expose"===s||!o&&/^(fail)/.test(s)||(t[i(r,s)]=this[s]);return t},match:function(e,r){var o=t.match(r);if(o.test(e))a.pass("match");else{var i=["expected value to match","    expected = "+t.format(r),"    actual = "+t.format(e)];n(this,i.join("\n"))}}},o("called","expected %n to have been called at least once but was never called"),o("notCalled",function(t){return!t.called},"expected %n to not have been called but was called %c%C"),o("calledOnce","expected %n to be called once but was called %c%C"),o("calledTwice","expected %n to be called twice but was called %c%C"),o("calledThrice","expected %n to be called thrice but was called %c%C"),o("calledOn","expected %n to be called with %1 as this but was called with %t"),o("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),o("calledWithNew","expected %n to be called with new"),o("alwaysCalledWithNew","expected %n to always be called with new"),o("calledWith","expected %n to be called with arguments %*%C"),o("calledWithMatch","expected %n to be called with match %*%C"),o("alwaysCalledWith","expected %n to always be called with arguments %*%C"),o("alwaysCalledWithMatch","expected %n to always be called with match %*%C"),o("calledWithExactly","expected %n to be called with exact arguments %*%C"),o("alwaysCalledWithExactly","expected %n to always be called with exact arguments %*%C"),o("neverCalledWith","expected %n to never be called with arguments %*%C"),o("neverCalledWithMatch","expected %n to never be called with match %*%C"),o("threw","%n did not throw exception%C"),o("alwaysThrew","%n did not always throw exception%C"),t.assert=a,a}function i(t,e,n){var r=t("./util/core");t("./match"),t("./format"),n.exports=o(r)}var s=Array.prototype.slice,a="undefined"!=typeof e&&e.exports&&"function"==typeof t,c="function"==typeof define&&"object"==typeof define.amd&&define.amd;return c?void define(i):a?void i(t,e.exports,e):void(n&&o(n))}("object"==typeof sinon&&sinon,"undefined"!=typeof n?n:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./format":50,"./match":52,"./util/core":61}],46:[function(t,e,n){(function(n){!function(r){"use strict";function o(t,e){return"string"==typeof t?(this.exception=new Error(e||""),this.exception.name=t):t?this.exception=t:this.exception=new Error("Error"),this}function i(t,e){var n=t.callArgAt;if(n>=0)return e[n];var r;n===l&&(r=e),n===f&&(r=c.call(e).reverse());for(var o=t.callArgProp,i=0,s=r.length;s>i;++i){if(!o&&"function"==typeof r[i])return r[i];if(o&&r[i]&&"function"==typeof r[i][o])return r[i][o]}return null}function s(t){function e(e,n,r){if(e.callArgAt<0){var o;return o=e.callArgProp?t.functionName(e.stub)+" expected to yield to '"+e.callArgProp+"', but no object with such a property was passed.":t.functionName(e.stub)+" expected to yield, but no callback was passed.",r.length>0&&(o+=" Received ["+u.call(r,", ")+"]"),o}return"argument at index "+e.callArgAt+" is not a function: "+n}function n(t,n){if("number"==typeof t.callArgAt){var r=i(t,n);if("function"!=typeof r)throw new TypeError(e(t,r,n));t.callbackAsync?h(function(){r.apply(t.callbackContext,t.callbackArguments)}):r.apply(t.callbackContext,t.callbackArguments)}}function r(t){return function(){var e=this[t].apply(this,arguments);return this.callbackAsync=!0,e}}var s={create:function(e){var n=t.extend({},t.behavior);return delete n.create,n.stub=e,n},isPresent:function(){return"number"==typeof this.callArgAt||this.exception||"number"==typeof this.returnArgAt||this.returnThis||this.returnValueDefined},invoke:function(t,e){if(n(this,e),this.exception)throw this.exception;return"number"==typeof this.returnArgAt?e[this.returnArgAt]:this.returnThis?t:this.returnValue},onCall:function(t){return this.stub.onCall(t)},onFirstCall:function(){return this.stub.onFirstCall()},onSecondCall:function(){return this.stub.onSecondCall()},onThirdCall:function(){return this.stub.onThirdCall()},withArgs:function(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')},callsArg:function(t){if("number"!=typeof t)throw new TypeError("argument index is not number");return this.callArgAt=t,this.callbackArguments=[],this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOn:function(t,e){if("number"!=typeof t)throw new TypeError("argument index is not number");if("object"!=typeof e)throw new TypeError("argument context is not an object");return this.callArgAt=t,this.callbackArguments=[],this.callbackContext=e,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgWith:function(t){if("number"!=typeof t)throw new TypeError("argument index is not number");return this.callArgAt=t,this.callbackArguments=c.call(arguments,1),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOnWith:function(t,e){if("number"!=typeof t)throw new TypeError("argument index is not number");if("object"!=typeof e)throw new TypeError("argument context is not an object");return this.callArgAt=t,this.callbackArguments=c.call(arguments,2),this.callbackContext=e,this.callArgProp=void 0,this.callbackAsync=!1,this},yields:function(){return this.callArgAt=l,this.callbackArguments=c.call(arguments,0),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsRight:function(){return this.callArgAt=f,this.callbackArguments=c.call(arguments,0),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsOn:function(t){if("object"!=typeof t)throw new TypeError("argument context is not an object");return this.callArgAt=l,this.callbackArguments=c.call(arguments,1),this.callbackContext=t,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsTo:function(t){return this.callArgAt=l,this.callbackArguments=c.call(arguments,1),this.callbackContext=void 0,this.callArgProp=t,this.callbackAsync=!1,this},yieldsToOn:function(t,e){if("object"!=typeof e)throw new TypeError("argument context is not an object");return this.callArgAt=l,this.callbackArguments=c.call(arguments,2),this.callbackContext=e,this.callArgProp=t,this.callbackAsync=!1,this},"throws":o,throwsException:o,returns:function(t){return this.returnValue=t,this.returnValueDefined=!0,this.exception=void 0,this},returnsArg:function(t){if("number"!=typeof t)throw new TypeError("argument index is not number");return this.returnArgAt=t,this},returnsThis:function(){return this.returnThis=!0,this}};for(var a in s)s.hasOwnProperty(a)&&a.match(/^(callsArg|yields)/)&&!a.match(/Async/)&&(s[a+"Async"]=r(a));return t.behavior=s,s}function a(t,e,n){var r=t("./util/core");t("./extend"),n.exports=s(r)}var c=Array.prototype.slice,u=Array.prototype.join,l=-1,f=-2,h=function(){return"object"==typeof n&&"function"==typeof n.nextTick?n.nextTick:"function"==typeof setImmediate?setImmediate:function(t){setTimeout(t,0)}}(),d="undefined"!=typeof e&&e.exports&&"function"==typeof t,p="function"==typeof define&&"object"==typeof define.amd&&define.amd;return p?void define(a):d?void a(t,e.exports,e):void(r&&s(r))}("object"==typeof sinon&&sinon)}).call(this,t("_process"))},{"./extend":49,"./util/core":61,_process:42}],47:[function(t,e,n){!function(n){"use strict";function r(t){function e(e,n,r){var o=t.functionName(e)+n;throw r.length&&(o+=" Received ["+i.call(r).join(", ")+"]"),new Error(o)}function n(e,n,o,i,s,a,c){if("number"!=typeof a)throw new TypeError("Call id is not a number");var u=t.create(r);return u.proxy=e,u.thisValue=n,u.args=o,u.returnValue=i,u.exception=s,u.callId=a,u.stack=c,u}var r={calledOn:function(e){return t.match&&t.match.isMatcher(e)?e.test(this.thisValue):this.thisValue===e},calledWith:function(){var e=arguments.length;if(e>this.args.length)return!1;for(var n=0;e>n;n+=1)if(!t.deepEqual(arguments[n],this.args[n]))return!1;return!0},calledWithMatch:function(){var e=arguments.length;if(e>this.args.length)return!1;for(var n=0;e>n;n+=1){var r=this.args[n],o=arguments[n];if(!t.match||!t.match(o).test(r))return!1}return!0},calledWithExactly:function(){return arguments.length===this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(e){return t.deepEqual(e,this.returnValue)},threw:function(t){return"undefined"!=typeof t&&this.exception?this.exception===t||this.exception.name===t:!!this.exception},calledWithNew:function(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(t){return this.callId<t.callId},calledAfter:function(t){return this.callId>t.callId},callArg:function(t){this.args[t]()},callArgOn:function(t,e){this.args[t].apply(e)},callArgWith:function(t){this.callArgOnWith.apply(this,[t,null].concat(i.call(arguments,1)))},callArgOnWith:function(t,e){var n=i.call(arguments,2);this.args[t].apply(e,n)},"yield":function(){this.yieldOn.apply(this,[null].concat(i.call(arguments,0)))},yieldOn:function(t){for(var n=this.args,r=0,o=n.length;o>r;++r)if("function"==typeof n[r])return void n[r].apply(t,i.call(arguments,1));e(this.proxy," cannot yield since no callback was passed.",n)},yieldTo:function(t){this.yieldToOn.apply(this,[t,null].concat(i.call(arguments,1)))},yieldToOn:function(t,n){for(var r=this.args,o=0,s=r.length;s>o;++o)if(r[o]&&"function"==typeof r[o][t])return void r[o][t].apply(n,i.call(arguments,2));e(this.proxy," cannot yield to '"+t+"' since no callback was passed.",r)},getStackFrames:function(){return this.stack&&this.stack.split("\n").slice(3)},toString:function(){for(var e=this.proxy.toString()+"(",n=[],r=0,o=this.args.length;o>r;++r)n.push(t.format(this.args[r]));return e=e+n.join(", ")+")","undefined"!=typeof this.returnValue&&(e+=" => "+t.format(this.returnValue)),this.exception&&(e+=" !"+this.exception.name,this.exception.message&&(e+="("+this.exception.message+")")),this.stack&&(e+=this.getStackFrames()[0].replace(/^\s*(?:at\s+|@)?/," at ")),e}};return r.invokeCallback=r["yield"],n.toString=r.toString,t.spyCall=n,n}function o(t,e,n){var o=t("./util/core");t("./match"),t("./format"),n.exports=r(o)}var i=Array.prototype.slice,s="undefined"!=typeof e&&e.exports&&"function"==typeof t,a="function"==typeof define&&"object"==typeof define.amd&&define.amd;return a?void define(o):s?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./format":50,"./match":52,"./util/core":61}],48:[function(t,e,n){!function(n){"use strict";function r(t){return t.fakes||(t.fakes=[]),t.fakes}function o(t,e){for(var n=r(t),o=0,i=n.length;i>o;o+=1)"function"==typeof n[o][e]&&n[o][e]()}function i(t){for(var e=r(t),n=0;n<e.length;)e.splice(n,1)}function s(t){var e={verify:function(){o(this,"verify")},restore:function(){o(this,"restore"),i(this)},reset:function(){o(this,"reset")},verifyAndRestore:function(){var t;try{this.verify()}catch(e){t=e}if(this.restore(),t)throw t},add:function(t){return c.call(r(this),t),t},spy:function(){return this.add(t.spy.apply(t,arguments))},stub:function(e,n,r){if(n){var o=e[n];if("function"!=typeof o){if(!u.call(e,n))throw new TypeError("Cannot stub non-existent own property "+n);return e[n]=r,this.add({restore:function(){e[n]=o}})}}if(!n&&e&&"object"==typeof e){var i=t.stub.apply(t,arguments);for(var s in i)"function"==typeof i[s]&&this.add(i[s]);return i}return this.add(t.stub.apply(t,arguments))},mock:function(){return this.add(t.mock.apply(t,arguments))},inject:function(t){var e=this;return t.spy=function(){return e.spy.apply(e,arguments)},t.stub=function(){return e.stub.apply(e,arguments)},t.mock=function(){return e.mock.apply(e,arguments)},t}};return t.collection=e,e}function a(t,e,n){var r=t("./util/core");t("./mock"),t("./spy"),t("./stub"),n.exports=s(r)}var c=[].push,u=Object.prototype.hasOwnProperty,l="undefined"!=typeof e&&e.exports&&"function"==typeof t,f="function"==typeof define&&"object"==typeof define.amd&&define.amd;return f?void define(a):l?void a(t,e.exports,e):void(n&&s(n))}("object"==typeof sinon&&sinon)},{"./mock":53,"./spy":55,"./stub":56,"./util/core":61}],49:[function(t,e,n){!function(n){"use strict";function r(t){function e(t){var e,r,o,i=Array.prototype.slice.call(arguments,1);for(r=0;r<i.length;r++){e=i[r];for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);n&&e.hasOwnProperty("toString")&&e.toString!==t.toString&&(t.toString=e.toString)}return t}var n=function(){var t={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]());return"0123456789"!==e.join("")}();return t.extend=e,t.extend}function o(t,e,n){var o=t("./util/core");n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./util/core":61}],50:[function(t,e,n){!function(n,r){"use strict";function o(n){function o(t){return""+t}function i(){function t(){return e.ascii.apply(e,arguments)}var e=r.configure({quoteStrings:!1,limitChildrenCount:250});return t}function s(){function e(t){var e="object"==typeof t&&t.toString===Object.prototype.toString;return e?n.inspect(t):t}try{var n=t("util")}catch(r){}return n?e:o}var a,c="undefined"!=typeof e&&e.exports&&"function"==typeof t;if(c)try{r=t("formatio")}catch(u){}return a=r?i():c?s():o,n.format=a,n.format}function i(t,e,n){var r=t("./util/core");n.exports=o(r)}var s="undefined"!=typeof e&&e.exports&&"function"==typeof t,a="function"==typeof define&&"object"==typeof define.amd&&define.amd;return a?void define(i):s?void i(t,e.exports,e):void(n&&o(n))}("object"==typeof sinon&&sinon,"object"==typeof formatio&&formatio)},{"./util/core":61,formatio:37,util:72}],51:[function(t,e,n){!function(n){"use strict";function r(t){function e(){}function n(e,r){function o(){throw r.message=i+r.message,r}var i=e+" threw exception: ";t.log(i+"["+r.name+"] "+r.message),r.stack&&t.log(r.stack),n.useImmediateExceptions?o():n.setTimeout(o,0)}n.useImmediateExceptions=!1,n.setTimeout=function(t,e){i(t,e)};var r={};return r.log=t.log=e,r.logError=t.logError=n,r}function o(t,e,n){var o=t("./util/core");n.exports=r(o)}var i=setTimeout,s="undefined"!=typeof e&&e.exports&&"function"==typeof t,a="function"==typeof define&&"object"==typeof define.amd&&define.amd;return a?void define(o):s?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./util/core":61}],52:[function(t,e,n){!function(n){"use strict";function r(t){function e(e,n,r){var o=t.typeOf(e);if(o!==n)throw new TypeError("Expected type of "+r+" to be "+n+", but was "+o)}function n(t){return s.isPrototypeOf(t)}function r(e,o){if(null===o||void 0===o)return!1;for(var i in e)if(e.hasOwnProperty(i)){var s=e[i],a=o[i];if(n(s)){if(!s.test(a))return!1}else if("object"===t.typeOf(s)){if(!r(s,a))return!1}else if(!t.deepEqual(s,a))return!1}return!0}function o(e,n){var o=t.create(s),i=t.typeOf(e);switch(i){case"object":if("function"==typeof e.test)return o.test=function(t){return e.test(t)===!0},o.message="match("+t.functionName(e.test)+")",o;var a=[];for(var c in e)e.hasOwnProperty(c)&&a.push(c+": "+e[c]);o.test=function(t){return r(e,t)},o.message="match("+a.join(", ")+")";break;case"number":o.test=function(t){return e==t};break;case"string":o.test=function(t){return"string"!=typeof t?!1:-1!==t.indexOf(e)},o.message='match("'+e+'")';break;case"regexp":o.test=function(t){return"string"!=typeof t?!1:e.test(t)};break;case"function":o.test=e,n?o.message=n:o.message="match("+t.functionName(e)+")";break;default:o.test=function(n){return t.deepEqual(e,n)}}return o.message||(o.message="match("+e+")"),o}function i(n,r){return function(i,s){e(i,"string","property");var a=1===arguments.length,c=r+'("'+i+'"';return a||(c+=", "+s),c+=")",o(function(e){return void 0!==e&&null!==e&&n(e,i)?a||t.deepEqual(s,e[i]):!1},c)}}var s={toString:function(){return this.message}};return s.or=function(e){if(!arguments.length)throw new TypeError("Matcher expected");n(e)||(e=o(e));var r=this,i=t.create(s);return i.test=function(t){return r.test(t)||e.test(t)},i.message=r.message+".or("+e.message+")",i},s.and=function(e){if(!arguments.length)throw new TypeError("Matcher expected");n(e)||(e=o(e));var r=this,i=t.create(s);return i.test=function(t){return r.test(t)&&e.test(t)},i.message=r.message+".and("+e.message+")",i},o.isMatcher=n,o.any=o(function(){return!0},"any"),o.defined=o(function(t){return null!==t&&void 0!==t},"defined"),o.truthy=o(function(t){return!!t},"truthy"),o.falsy=o(function(t){return!t},"falsy"),o.same=function(t){return o(function(e){return t===e},"same("+t+")")},o.typeOf=function(n){return e(n,"string","type"),o(function(e){return t.typeOf(e)===n},'typeOf("'+n+'")')},o.instanceOf=function(n){return e(n,"function","type"),o(function(t){return t instanceof n},"instanceOf("+t.functionName(n)+")")},o.has=i(function(t,e){return"object"==typeof t?e in t:void 0!==t[e]},"has"),o.hasOwn=i(function(t,e){return t.hasOwnProperty(e)},"hasOwn"),o.bool=o.typeOf("boolean"),o.number=o.typeOf("number"),o.string=o.typeOf("string"),o.object=o.typeOf("object"),o.func=o.typeOf("function"),o.array=o.typeOf("array"),o.regexp=o.typeOf("regexp"),o.date=o.typeOf("date"),t.match=o,o}function o(t,e,n){var o=t("./util/core");t("./typeOf"),n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./typeOf":60,"./util/core":61}],53:[function(t,e,n){!function(n){"use strict";function r(t){function e(n){return n?e.create(n):t.expectation.create("Anonymous mock")}function n(t,e){if(t)for(var n=0,r=t.length;r>n;n+=1)e(t[n])}function r(e,n,r){if(r&&e.length!==n.length)return!1;for(var o=0,i=e.length;i>o;o++)if(!t.deepEqual(e[o],n[o]))return!1;return!0}function o(t){return 0===t?"never called":"called "+f(t)}function i(t){var e=t.minCalls,n=t.maxCalls;if("number"==typeof e&&"number"==typeof n){var r=f(e);return e!==n&&(r="at least "+r+" and at most "+f(n)),r}return"number"==typeof e?"at least "+f(e):"at most "+f(n)}function s(t){var e="number"==typeof t.minCalls;return!e||t.callCount>=t.minCalls}function a(t){return"number"!=typeof t.maxCalls?!1:t.callCount===t.maxCalls}function c(t,e){var n=l&&l.isMatcher(t);return n&&t.test(e)||!0}var u=[].push,l=t.match;t.extend(e,{create:function(n){if(!n)throw new TypeError("object is null");var r=t.extend({},e);return r.object=n,delete r.create,r},expects:function(e){if(!e)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[]),!this.expectations[e]){this.expectations[e]=[];var n=this;t.wrapMethod(this.object,e,function(){return n.invokeMethod(e,this,arguments)}),u.call(this.proxies,e)}var r=t.expectation.create(e);return u.call(this.expectations[e],r),r},restore:function(){var t=this.object;n(this.proxies,function(e){"function"==typeof t[e].restore&&t[e].restore()})},verify:function(){var e=this.expectations||{},r=[],o=[];return n(this.proxies,function(t){n(e[t],function(t){t.met()?u.call(o,t.toString()):u.call(r,t.toString())})}),this.restore(),r.length>0?t.expectation.fail(r.concat(o).join("\n")):o.length>0&&t.expectation.pass(r.concat(o).join("\n")),!0},invokeMethod:function(e,n,o){var i,s,a=this.expectations&&this.expectations[e]?this.expectations[e]:[],c=[],l=o||[];for(i=0;i<a.length;i+=1){var f=a[i].expectedArguments||[];r(f,l,a[i].expectsExactArgCount)&&c.push(a[i])}for(i=0;i<c.length;i+=1)if(!c[i].met()&&c[i].allowsCall(n,o))return c[i].apply(n,o);var h=[],d=0;for(i=0;i<c.length;i+=1)c[i].allowsCall(n,o)?s=s||c[i]:d+=1;if(s&&0===d)return s.apply(n,o);for(i=0;i<a.length;i+=1)u.call(h,"    "+a[i].toString());h.unshift("Unexpected call: "+t.spyCall.toString.call({proxy:e,args:o})),t.expectation.fail(h.join("\n"))}});var f=t.timesInWords,h=Array.prototype.slice;return t.expectation={minCalls:1,maxCalls:1,create:function(e){var n=t.extend(t.stub.create(),t.expectation);return delete n.create,n.method=e,n},invoke:function(e,n,r){return this.verifyCallAllowed(n,r),t.spy.invoke.apply(this,arguments)},atLeast:function(t){if("number"!=typeof t)throw new TypeError("'"+t+"' is not number");return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=t,this},atMost:function(t){if("number"!=typeof t)throw new TypeError("'"+t+"' is not number");return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=t,this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(t){if("number"!=typeof t)throw new TypeError("'"+t+"' is not a number");return this.atLeast(t),this.atMost(t)},met:function(){return!this.failed&&s(this)},verifyCallAllowed:function(e,n){if(a(this)&&(this.failed=!0,t.expectation.fail(this.method+" already called "+f(this.maxCalls))),"expectedThis"in this&&this.expectedThis!==e&&t.expectation.fail(this.method+" called with "+e+" as thisValue, expected "+this.expectedThis),"expectedArguments"in this){n||t.expectation.fail(this.method+" received no arguments, expected "+t.format(this.expectedArguments)),n.length<this.expectedArguments.length&&t.expectation.fail(this.method+" received too few arguments ("+t.format(n)+"), expected "+t.format(this.expectedArguments)),this.expectsExactArgCount&&n.length!==this.expectedArguments.length&&t.expectation.fail(this.method+" received too many arguments ("+t.format(n)+"), expected "+t.format(this.expectedArguments));for(var r=0,o=this.expectedArguments.length;o>r;r+=1)c(this.expectedArguments[r],n[r])||t.expectation.fail(this.method+" received wrong arguments "+t.format(n)+", didn't match "+this.expectedArguments.toString()),t.deepEqual(this.expectedArguments[r],n[r])||t.expectation.fail(this.method+" received wrong arguments "+t.format(n)+", expected "+t.format(this.expectedArguments));
}},allowsCall:function(e,n){if(this.met()&&a(this))return!1;if("expectedThis"in this&&this.expectedThis!==e)return!1;if(!("expectedArguments"in this))return!0;if(n=n||[],n.length<this.expectedArguments.length)return!1;if(this.expectsExactArgCount&&n.length!==this.expectedArguments.length)return!1;for(var r=0,o=this.expectedArguments.length;o>r;r+=1){if(!c(this.expectedArguments[r],n[r]))return!1;if(!t.deepEqual(this.expectedArguments[r],n[r]))return!1}return!0},withArgs:function(){return this.expectedArguments=h.call(arguments),this},withExactArgs:function(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function(t){return this.expectedThis=t,this},toString:function(){var e=(this.expectedArguments||[]).slice();this.expectsExactArgCount||u.call(e,"[...]");var n=t.spyCall.toString.call({proxy:this.method||"anonymous mock expectation",args:e}),r=n.replace(", [...","[, ...")+" "+i(this);return this.met()?"Expectation met: "+r:"Expected "+r+" ("+o(this.callCount)+")"},verify:function(){return this.met()?t.expectation.pass(this.toString()):t.expectation.fail(this.toString()),!0},pass:function(e){t.assert.pass(e)},fail:function(t){var e=new Error(t);throw e.name="ExpectationError",e}},t.mock=e,e}function o(t,e,n){var o=t("./util/core");t("./times_in_words"),t("./call"),t("./extend"),t("./match"),t("./spy"),t("./stub"),t("./format"),n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./call":47,"./extend":49,"./format":50,"./match":52,"./spy":55,"./stub":56,"./times_in_words":59,"./util/core":61}],54:[function(t,e,n){!function(n){"use strict";function r(t){function e(t,e,n,o){o&&(!e.injectInto||n in e.injectInto?r.call(t.args,o):(e.injectInto[n]=o,t.injectedKeys.push(n)))}function n(e){var n=t.create(t.sandbox);return e.useFakeServer&&("object"==typeof e.useFakeServer&&(n.serverPrototype=e.useFakeServer),n.useFakeServer()),e.useFakeTimers&&("object"==typeof e.useFakeTimers?n.useFakeTimers.apply(n,e.useFakeTimers):n.useFakeTimers()),n}var r=[].push;return t.sandbox=t.extend(t.create(t.collection),{useFakeTimers:function(){return this.clock=t.useFakeTimers.apply(t,arguments),this.add(this.clock)},serverPrototype:t.fakeServer,useFakeServer:function(){var e=this.serverPrototype||t.fakeServer;return e&&e.create?(this.server=e.create(),this.add(this.server)):null},inject:function(e){return t.collection.inject.call(this,e),this.clock&&(e.clock=this.clock),this.server&&(e.server=this.server,e.requests=this.server.requests),e.match=t.match,e},restore:function(){t.collection.restore.apply(this,arguments),this.restoreContext()},restoreContext:function(){if(this.injectedKeys){for(var t=0,e=this.injectedKeys.length;e>t;t++)delete this.injectInto[this.injectedKeys[t]];this.injectedKeys=[]}},create:function(r){if(!r)return t.create(t.sandbox);var o=n(r);o.args=o.args||[],o.injectedKeys=[],o.injectInto=r.injectInto;var i,s,a=o.inject({});if(r.properties)for(var c=0,u=r.properties.length;u>c;c++)i=r.properties[c],s=a[i]||"sandbox"===i&&o,e(o,r,i,s);else e(o,r,"sandbox",s);return o},match:t.match}),t.sandbox.useFakeXMLHttpRequest=t.sandbox.useFakeServer,t.sandbox}function o(t,e,n){var o=t("./util/core");t("./extend"),t("./util/fake_server_with_clock"),t("./util/fake_timers"),t("./collection"),n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./collection":48,"./extend":49,"./util/core":61,"./util/fake_server_with_clock":64,"./util/fake_timers":65}],55:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function spy(t,e,n){if(!e&&"function"==typeof t)return spy.create(t);if(!t&&!e)return spy.create(function(){});if(n){for(var r=sinon.getPropertyDescriptor(t,e),o=0;o<n.length;o++)r[n[o]]=spy.create(r[n[o]]);return sinon.wrapMethod(t,e,r)}return sinon.wrapMethod(t,e,spy.create(t[e]))}function matchingFake(t,e,n){if(!t)return void 0;for(var r=0,o=t.length;o>r;r++)if(t[r].matches(e,n))return t[r]}function incrementCallCount(){this.called=!0,this.callCount+=1,this.notCalled=!1,this.calledOnce=1===this.callCount,this.calledTwice=2===this.callCount,this.calledThrice=3===this.callCount}function createCallProperties(){this.firstCall=this.getCall(0),this.secondCall=this.getCall(1),this.thirdCall=this.getCall(2),this.lastCall=this.getCall(this.callCount-1)}function createProxy(func,proxyLength){var p;return proxyLength?eval("p = (function proxy("+vars.substring(0,2*proxyLength-1)+") { return p.invoke(func, this, slice.call(arguments)); });"):p=function(){return p.invoke(func,this,slice.call(arguments))},p.isSinonProxy=!0,p}function delegateToCalls(t,e,n,r){spyApi[t]=function(){if(!this.called)return r?r.apply(this,arguments):!1;for(var o,i=0,s=0,a=this.callCount;a>s;s+=1)if(o=this.getCall(s),o[n||t].apply(o,arguments)&&(i+=1,e))return!0;return i===this.callCount}}var push=Array.prototype.push,slice=Array.prototype.slice,callId=0,vars="a,b,c,d,e,f,g,h,i,j,k,l",uuid=0,spyApi={reset:function(){if(this.invoking){var t=new Error("Cannot reset Sinon function while invoking it. Move the call to .reset outside of the callback.");throw t.name="InvalidResetException",t}if(this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.args=[],this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.stacks=[],this.fakes)for(var e=0;e<this.fakes.length;e++)this.fakes[e].reset();return this},create:function(t,e){var n;"function"!=typeof t?t=function(){}:n=sinon.functionName(t),e||(e=t.length);var r=createProxy(t,e);return sinon.extend(r,spy),delete r.create,sinon.extend(r,t),r.reset(),r.prototype=t.prototype,r.displayName=n||"spy",r.toString=sinon.functionToString,r.instantiateFake=sinon.spy.create,r.id="spy#"+uuid++,r},invoke:function(t,e,n){var r,o,i=matchingFake(this.fakes,n);incrementCallCount.call(this),push.call(this.thisValues,e),push.call(this.args,n),push.call(this.callIds,callId++),createCallProperties.call(this);try{this.invoking=!0,o=i?i.invoke(t,e,n):(this.func||t).apply(e,n);var s=this.getCall(this.callCount-1);s.calledWithNew()&&"object"!=typeof o&&(o=e)}catch(a){r=a}finally{delete this.invoking}if(push.call(this.exceptions,r),push.call(this.returnValues,o),push.call(this.stacks,(new Error).stack),createCallProperties.call(this),void 0!==r)throw r;return o},named:function(t){return this.displayName=t,this},getCall:function(t){return 0>t||t>=this.callCount?null:sinon.spyCall(this,this.thisValues[t],this.args[t],this.returnValues[t],this.exceptions[t],this.callIds[t],this.stacks[t])},getCalls:function(){var t,e=[];for(t=0;t<this.callCount;t++)e.push(this.getCall(t));return e},calledBefore:function(t){return this.called?t.called?this.callIds[0]<t.callIds[t.callIds.length-1]:!0:!1},calledAfter:function(t){return this.called&&t.called?this.callIds[this.callCount-1]>t.callIds[t.callCount-1]:!1},withArgs:function(){var t=slice.call(arguments);if(this.fakes){var e=matchingFake(this.fakes,t,!0);if(e)return e}else this.fakes=[];var n=this,r=this.instantiateFake();r.matchingAguments=t,r.parent=this,push.call(this.fakes,r),r.withArgs=function(){return n.withArgs.apply(n,arguments)};for(var o=0;o<this.args.length;o++)r.matches(this.args[o])&&(incrementCallCount.call(r),push.call(r.thisValues,this.thisValues[o]),push.call(r.args,this.args[o]),push.call(r.returnValues,this.returnValues[o]),push.call(r.exceptions,this.exceptions[o]),push.call(r.callIds,this.callIds[o]));return createCallProperties.call(r),r},matches:function(t,e){var n=this.matchingAguments;return n.length<=t.length&&sinon.deepEqual(n,t.slice(0,n.length))?!e||n.length===t.length:void 0},printf:function(t){var e,n=this,r=slice.call(arguments,1);return(t||"").replace(/%(.)/g,function(t,o){return e=spyApi.formatters[o],"function"==typeof e?e.call(null,n,r):isNaN(parseInt(o,10))?"%"+o:sinon.format(r[o-1])})}};return delegateToCalls("calledOn",!0),delegateToCalls("alwaysCalledOn",!1,"calledOn"),delegateToCalls("calledWith",!0),delegateToCalls("calledWithMatch",!0),delegateToCalls("alwaysCalledWith",!1,"calledWith"),delegateToCalls("alwaysCalledWithMatch",!1,"calledWithMatch"),delegateToCalls("calledWithExactly",!0),delegateToCalls("alwaysCalledWithExactly",!1,"calledWithExactly"),delegateToCalls("neverCalledWith",!1,"notCalledWith",function(){return!0}),delegateToCalls("neverCalledWithMatch",!1,"notCalledWithMatch",function(){return!0}),delegateToCalls("threw",!0),delegateToCalls("alwaysThrew",!1,"threw"),delegateToCalls("returned",!0),delegateToCalls("alwaysReturned",!1,"returned"),delegateToCalls("calledWithNew",!0),delegateToCalls("alwaysCalledWithNew",!1,"calledWithNew"),delegateToCalls("callArg",!1,"callArgWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgWith=spyApi.callArg,delegateToCalls("callArgOn",!1,"callArgOnWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgOnWith=spyApi.callArgOn,delegateToCalls("yield",!1,"yield",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),spyApi.invokeCallback=spyApi["yield"],delegateToCalls("yieldOn",!1,"yieldOn",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),delegateToCalls("yieldTo",!1,"yieldTo",function(t){throw new Error(this.toString()+" cannot yield to '"+t+"' since it was not yet invoked.")}),delegateToCalls("yieldToOn",!1,"yieldToOn",function(t){throw new Error(this.toString()+" cannot yield to '"+t+"' since it was not yet invoked.")}),spyApi.formatters={c:function(t){return sinon.timesInWords(t.callCount)},n:function(t){return t.toString()},C:function(t){for(var e=[],n=0,r=t.callCount;r>n;++n){var o="    "+t.getCall(n).toString();/\n/.test(e[n-1])&&(o="\n"+o),push.call(e,o)}return e.length>0?"\n"+e.join("\n"):""},t:function(t){for(var e=[],n=0,r=t.callCount;r>n;++n)push.call(e,sinon.format(t.thisValues[n]));return e.join(", ")},"*":function(t,e){for(var n=[],r=0,o=e.length;o>r;++r)push.call(n,sinon.format(e[r]));return n.join(", ")}},sinon.extend(spy,spyApi),spy.spyCall=sinon.spyCall,sinon.spy=spy,spy}function loadDependencies(t,e,n){var r=t("./util/core");t("./call"),t("./extend"),t("./times_in_words"),t("./format"),n.exports=makeApi(r)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./call":47,"./extend":49,"./format":50,"./times_in_words":59,"./util/core":61}],56:[function(t,e,n){!function(n){"use strict";function r(t){function e(n,r,o){if(o&&"function"!=typeof o&&"object"!=typeof o)throw new TypeError("Custom stub should be a function or a property descriptor");var i;if(o){if("function"==typeof o)i=t.spy&&t.spy.create?t.spy.create(o):o;else if(i=o,t.spy&&t.spy.create)for(var s=t.objectKeys(i),a=0;a<s.length;a++)i[s[a]]=t.spy.create(i[s[a]])}else{var c=0;"object"==typeof n&&"function"==typeof n[r]&&(c=n[r].length),i=e.create(c)}return n||"undefined"!=typeof r?"undefined"==typeof r&&"object"==typeof n?(t.walk(n||{},function(r,o,i){i!==Object.prototype&&"constructor"!==o&&"function"==typeof t.getPropertyDescriptor(i,o).value&&e(n,o)}),n):t.wrapMethod(n,r,i):t.stub.create()}function n(t){return t.parent&&o(t.parent)}function r(e){return e.defaultBehavior||n(e)||t.behavior.create(e)}function o(t){var e=t.behaviors[t.callCount-1];return e&&e.isPresent()?e:r(t)}function i(e){return function(){return this.defaultBehavior=this.defaultBehavior||t.behavior.create(this),this.defaultBehavior[e].apply(this.defaultBehavior,arguments),this}}var s=0,a={create:function(n){var r=function(){return o(r).invoke(this,arguments)};r.id="stub#"+s++;var i=r;return r=t.spy.create(r,n),r.func=i,t.extend(r,e),r.instantiateFake=t.stub.create,r.displayName="stub",r.toString=t.functionToString,r.defaultBehavior=null,r.behaviors=[],r},resetBehavior:function(){var t;if(this.defaultBehavior=null,this.behaviors=[],delete this.returnValue,delete this.returnArgAt,this.returnThis=!1,this.fakes)for(t=0;t<this.fakes.length;t++)this.fakes[t].resetBehavior()},onCall:function(e){return this.behaviors[e]||(this.behaviors[e]=t.behavior.create(this)),this.behaviors[e]},onFirstCall:function(){return this.onCall(0)},onSecondCall:function(){return this.onCall(1)},onThirdCall:function(){return this.onCall(2)}};for(var c in t.behavior)t.behavior.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&"create"!==c&&"withArgs"!==c&&"invoke"!==c&&(a[c]=i(c));return t.extend(e,a),t.stub=e,e}function o(t,e,n){var o=t("./util/core");t("./behavior"),t("./spy"),t("./extend"),n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./behavior":46,"./extend":49,"./spy":55,"./util/core":61}],57:[function(t,e,n){!function(n){"use strict";function r(t){function e(e){function r(){var r=t.getConfig(t.config);r.injectInto=r.injectIntoThis&&this||r.injectInto;var o,i,s=t.sandbox.create(r),a=n.call(arguments),c=a.length&&a[a.length-1];"function"==typeof c&&(a[a.length-1]=function(t){t?s.restore():s.verifyAndRestore(),c(t)});try{i=e.apply(this,a.concat(s.args))}catch(u){o=u}if("function"!=typeof c){if("undefined"!=typeof o)throw s.restore(),o;s.verifyAndRestore()}return i}var o=typeof e;if("function"!==o)throw new TypeError("sinon.test needs to wrap a test function, got "+o);return e.length?function(t){return r.apply(this,arguments)}:r}var n=Array.prototype.slice;return e.config={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},t.test=e,e}function o(t,e,n){var o=t("./util/core");t("./sandbox"),n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;s?define(o):i?o(t,e.exports,e):n&&r(n)}("object"==typeof sinon&&sinon||null)},{"./sandbox":54,"./util/core":61}],58:[function(t,e,n){!function(n){"use strict";function r(t,e,n){return function(){e&&e.apply(this,arguments);var r,o;try{o=t.apply(this,arguments)}catch(i){r=i}if(n&&n.apply(this,arguments),r)throw r;return o}}function o(t){function e(e,n){if(!e||"object"!=typeof e)throw new TypeError("sinon.testCase needs an object with test functions");n=n||"test";var o,i,s,a=new RegExp("^"+n),c={},u=e.setUp,l=e.tearDown;for(o in e)e.hasOwnProperty(o)&&!/^(setUp|tearDown)$/.test(o)&&(i=e[o],"function"==typeof i&&a.test(o)?(s=i,(u||l)&&(s=r(i,u,l)),c[o]=t.test(s)):c[o]=e[o]);return c}return t.testCase=e,e}function i(t,e,n){var r=t("./util/core");t("./test"),n.exports=o(r)}var s="undefined"!=typeof e&&e.exports&&"function"==typeof t,a="function"==typeof define&&"object"==typeof define.amd&&define.amd;return a?void define(i):s?void i(t,e.exports,e):void(n&&o(n))}("object"==typeof sinon&&sinon)},{"./test":57,"./util/core":61}],59:[function(t,e,n){!function(n){"use strict";function r(t){function e(t){switch(t){case 1:return"once";case 2:return"twice";case 3:return"thrice";default:return(t||0)+" times"}}return t.timesInWords=e,t.timesInWords}function o(t,e,n){var o=t("./util/core");n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./util/core":61}],60:[function(t,e,n){!function(n){"use strict";function r(t){function e(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1).toLowerCase()}return t.typeOf=e,t.typeOf}function o(t,e,n){var o=t("./util/core");n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./util/core":61}],61:[function(t,e,n){!function(n){"use strict";function r(t){var e=!1;try{t.appendChild(f),e=f.parentNode===t}catch(n){return!1}finally{try{t.removeChild(f)}catch(n){}}return e}function o(t){return f&&t&&1===t.nodeType&&r(t)}function i(t){return"function"==typeof t||!!(t&&t.constructor&&t.call&&t.apply)}function s(t){return"number"==typeof t&&isNaN(t)}function a(t,e){for(var n in e)h.call(t,n)||(t[n]=e[n])}function c(t){return"function"==typeof t&&"function"==typeof t.restore&&t.restore.sinon}function u(t){return t.wrapMethod=function(e,n,r){function o(t){var e;if(i(t)){if(t.restore&&t.restore.sinon)e=new TypeError("Attempted to wrap "+n+" which is already wrapped");else if(t.calledBefore){var r=t.returns?"stubbed":"spied on";e=new TypeError("Attempted to wrap "+n+" which is already "+r)}}else e=new TypeError("Attempted to wrap "+typeof t+" property "+n+" as function");if(e)throw t&&t.stackTrace&&(e.stack+="\n--------------\n"+t.stackTrace),e}if(!e)throw new TypeError("Should wrap property of object");if("function"!=typeof r&&"object"!=typeof r)throw new TypeError("Method wrapper should be a function or a property descriptor");var s,c,u,l=e.hasOwnProperty?e.hasOwnProperty(n):h.call(e,n);if(d){var f="function"==typeof r?{value:r}:r,p=t.getPropertyDescriptor(e,n);if(p?p.restore&&p.restore.sinon&&(s=new TypeError("Attempted to wrap "+n+" which is already wrapped")):s=new TypeError("Attempted to wrap "+typeof c+" property "+n+" as function"),s)throw p&&p.stackTrace&&(s.stack+="\n--------------\n"+p.stackTrace),s;var y=t.objectKeys(f);for(u=0;u<y.length;u++)c=p[y[u]],o(c);for(a(f,p),u=0;u<y.length;u++)a(f[y[u]],p[y[u]]);Object.defineProperty(e,n,f)}else c=e[n],o(c),e[n]=r,r.displayName=n;return r.displayName=n,r.stackTrace=new Error("Stack Trace for original").stack,r.restore=function(){if(l)d&&Object.defineProperty(e,n,p);else try{delete e[n]}catch(t){}e[n]===r&&(e[n]=c)},r.restore.sinon=!0,d||a(r,c),r},t.create=function(t){var e=function(){};return e.prototype=t,new e},t.deepEqual=function e(n,r){if(t.match&&t.match.isMatcher(n))return n.test(r);if("object"!=typeof n||"object"!=typeof r)return s(n)&&s(r)||n===r;if(o(n)||o(r))return n===r;if(n===r)return!0;if(null===n&&null!==r||null!==n&&null===r)return!1;if(n instanceof RegExp&&r instanceof RegExp)return n.source===r.source&&n.global===r.global&&n.ignoreCase===r.ignoreCase&&n.multiline===r.multiline;var i=Object.prototype.toString.call(n);if(i!==Object.prototype.toString.call(r))return!1;if("[object Date]"===i)return n.valueOf()===r.valueOf();var a,c=0,u=0;if("[object Array]"===i&&n.length!==r.length)return!1;for(a in n)if(n.hasOwnProperty(a)){if(c+=1,!(a in r))return!1;if(!e(n[a],r[a]))return!1}for(a in r)r.hasOwnProperty(a)&&(u+=1);return c===u},t.functionName=function(t){var e=t.displayName||t.name;if(!e){var n=t.toString().match(/function ([^\s\(]+)/);e=n&&n[1]}return e},t.functionToString=function(){if(this.getCall&&this.callCount)for(var t,e,n=this.callCount;n--;){t=this.getCall(n).thisValue;for(e in t)if(t[e]===this)return e}return this.displayName||"sinon fake"},t.objectKeys=function(t){if(t!==Object(t))throw new TypeError("sinon.objectKeys called on a non-object");var e,n=[];for(e in t)h.call(t,e)&&n.push(e);return n},t.getPropertyDescriptor=function(t,e){for(var n,r=t;r&&!(n=Object.getOwnPropertyDescriptor(r,e));)r=Object.getPrototypeOf(r);return n},t.getConfig=function(e){var n={};e=e||{};var r=t.defaultConfig;for(var o in r)r.hasOwnProperty(o)&&(n[o]=e.hasOwnProperty(o)?e[o]:r[o]);return n},t.defaultConfig={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},t.timesInWords=function(t){return 1===t&&"once"||2===t&&"twice"||3===t&&"thrice"||(t||0)+" times"},t.calledInOrder=function(t){for(var e=1,n=t.length;n>e;e++)if(!t[e-1].calledBefore(t[e])||!t[e].called)return!1;return!0},t.orderByFirstCall=function(t){return t.sort(function(t,e){var n=t.getCall(0),r=e.getCall(0),o=n&&n.callId||-1,i=r&&r.callId||-1;return i>o?-1:1})},t.createStubInstance=function(e){if("function"!=typeof e)throw new TypeError("The constructor should be a function.");return t.stub(t.create(e.prototype))},t.restore=function(t){if(null!==t&&"object"==typeof t)for(var e in t)c(t[e])&&t[e].restore();else c(t)&&t.restore()},t}function l(t,e){u(e)}var f="undefined"!=typeof document&&document.createElement("div"),h=Object.prototype.hasOwnProperty,d="keys"in Object,p="undefined"!=typeof e&&e.exports&&"function"==typeof t,y="function"==typeof define&&"object"==typeof define.amd&&define.amd;return y?void define(l):p?void l(t,e.exports,e):void(n&&u(n))}("object"==typeof sinon&&sinon)},{}],62:[function(t,e,n){"undefined"==typeof sinon&&(this.sinon={}),function(){"use strict";function n(t){t.Event=function(t,e,n,r){this.initEvent(t,e,n,r)},t.Event.prototype={initEvent:function(t,e,n,r){this.type=t,this.bubbles=e,this.cancelable=n,this.target=r},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}},t.ProgressEvent=function(t,e,n){this.initEvent(t,!1,!1,n),this.loaded=e.loaded||null,this.total=e.total||null,this.lengthComputable=!!e.total},t.ProgressEvent.prototype=new t.Event,t.ProgressEvent.prototype.constructor=t.ProgressEvent,t.CustomEvent=function(t,e,n){this.initEvent(t,!1,!1,n),this.detail=e.detail||null},t.CustomEvent.prototype=new t.Event,t.CustomEvent.prototype.constructor=t.CustomEvent,t.EventTarget={addEventListener:function(t,e){this.eventListeners=this.eventListeners||{},this.eventListeners[t]=this.eventListeners[t]||[],o.call(this.eventListeners[t],e)},removeEventListener:function(t,e){for(var n=this.eventListeners&&this.eventListeners[t]||[],r=0,o=n.length;o>r;++r)if(n[r]===e)return n.splice(r,1)},dispatchEvent:function(t){for(var e=t.type,n=this.eventListeners&&this.eventListeners[e]||[],r=0;r<n.length;r++)"function"==typeof n[r]?n[r].call(this,t):n[r].handleEvent(t);return!!t.defaultPrevented}}}function r(t){var e=t("./core");n(e)}var o=[].push,i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;s?define(r):i?r(t):n(sinon)}()},{"./core":61}],63:[function(t,e,n){!function(){"use strict";function n(t){var e=t;if("[object Array]"!==Object.prototype.toString.call(t)&&(e=[200,{},t]),"string"!=typeof e[2])throw new TypeError("Fake server response body should be string, but was "+typeof e[2]);return e}function r(t,e,n){var r=t.method,o=!r||r.toLowerCase()===e.toLowerCase(),i=t.url,s=!i||i===n||"function"==typeof i.test&&i.test(n);return o&&s}function o(t,e){var n=e.url;if((!/^https?:\/\//.test(n)||u.test(n))&&(n=n.replace(u,"")),r(t,this.getHTTPMethod(e),n)){if("function"==typeof t.response){var o=t.url,i=[e].concat(o&&"function"==typeof o.exec?o.exec(n).slice(1):[]);return t.response.apply(t,i)}return!0}return!1}function i(t){t.fakeServer={create:function(e){var n=t.create(this);return n.configure(e),t.xhr.supportsCORS?this.xhr=t.useFakeXMLHttpRequest():this.xhr=t.useFakeXDomainRequest(),n.requests=[],this.xhr.onCreate=function(t){n.addRequest(t)},n},configure:function(t){var e,n={autoRespond:!0,autoRespondAfter:!0,respondImmediately:!0,fakeHTTPMethods:!0};t=t||{};for(e in t)n.hasOwnProperty(e)&&t.hasOwnProperty(e)&&(this[e]=t[e])},addRequest:function(t){var e=this;a.call(this.requests,t),t.onSend=function(){e.handleRequest(this),e.respondImmediately?e.respond():e.autoRespond&&!e.responding&&(setTimeout(function(){e.responding=!1,e.respond()},e.autoRespondAfter||10),e.responding=!0)}},getHTTPMethod:function(t){if(this.fakeHTTPMethods&&/post/i.test(t.method)){var e=(t.requestBody||"").match(/_method=([^\b;]+)/);return e?e[1]:t.method}return t.method},handleRequest:function(t){t.async?(this.queue||(this.queue=[]),a.call(this.queue,t)):this.processRequest(t)},log:function(e,n){var r;r="Request:\n"+t.format(n)+"\n\n",r+="Response:\n"+t.format(e)+"\n\n",t.log(r)},respondWith:function(t,e,r){return 1===arguments.length&&"function"!=typeof t?void(this.response=n(t)):(this.responses||(this.responses=[]),1===arguments.length&&(r=t,e=t=null),2===arguments.length&&(r=e,e=t,t=null),void a.call(this.responses,{method:t,url:e,response:"function"==typeof r?r:n(r)}))},respond:function(){arguments.length>0&&this.respondWith.apply(this,arguments);for(var t=this.queue||[],e=t.splice(0,t.length),n=0;n<e.length;n++)this.processRequest(e[n])},processRequest:function(e){try{if(e.aborted)return;var n=this.response||[404,{},""];if(this.responses)for(var r=this.responses.length,i=r-1;i>=0;i--)if(o.call(this,this.responses[i],e)){n=this.responses[i].response;break}4!==e.readyState&&(this.log(n,e),e.respond(n[0],n[1],n[2]))}catch(s){t.logError("Fake server request processing",s)}},restore:function(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments)}}}function s(t,e,n){var r=t("./core");t("./fake_xdomain_request"),t("./fake_xml_http_request"),t("../format"),i(r),n.exports=r}var a=[].push,c="undefined"!=typeof window?window.location:{},u=new RegExp("^"+c.protocol+"//"+c.host),l="undefined"!=typeof e&&e.exports&&"function"==typeof t,f="function"==typeof define&&"object"==typeof define.amd&&define.amd;f?define(s):l?s(t,e.exports,e):i(sinon)}()},{"../format":50,"./core":61,"./fake_xdomain_request":66,"./fake_xml_http_request":67}],64:[function(t,e,n){!function(){"use strict";function n(t){function e(){}e.prototype=t.fakeServer,t.fakeServerWithClock=new e,t.fakeServerWithClock.addRequest=function(e){if(e.async&&("object"==typeof setTimeout.clock?this.clock=setTimeout.clock:(this.clock=t.useFakeTimers(),this.resetClock=!0),!this.longestTimeout)){var n=this.clock.setTimeout,r=this.clock.setInterval,o=this;this.clock.setTimeout=function(t,e){return o.longestTimeout=Math.max(e,o.longestTimeout||0),n.apply(this,arguments)},this.clock.setInterval=function(t,e){return o.longestTimeout=Math.max(e,o.longestTimeout||0),r.apply(this,arguments)}}return t.fakeServer.addRequest.call(this,e)},t.fakeServerWithClock.respond=function(){var e=t.fakeServer.respond.apply(this,arguments);return this.clock&&(this.clock.tick(this.longestTimeout||0),this.longestTimeout=0,this.resetClock&&(this.clock.restore(),this.resetClock=!1)),e},t.fakeServerWithClock.restore=function(){return this.clock&&this.clock.restore(),t.fakeServer.restore.apply(this,arguments)}}function r(t){var e=t("./core");t("./fake_server"),t("./fake_timers"),n(e)}var o="undefined"!=typeof e&&e.exports&&"function"==typeof t,i="function"==typeof define&&"object"==typeof define.amd&&define.amd;i?define(r):o?r(t):n(sinon)}()},{"./core":61,"./fake_server":63,"./fake_timers":65}],65:[function(t,e,n){!function(){"use strict";function n(t,e){var n="undefined"!=typeof lolex?lolex:e;t.useFakeTimers=function(){var t,e=Array.prototype.slice.call(arguments);t="string"==typeof e[0]?0:e.shift();var r=n.install(t||0,e);return r.restore=r.uninstall,r},t.clock={create:function(t){return n.createClock(t)}},t.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:"undefined"!=typeof setImmediate?setImmediate:void 0,clearImmediate:"undefined"!=typeof clearImmediate?clearImmediate:void 0,setInterval:setInterval,clearInterval:clearInterval,Date:Date}}function r(t,e,r,o){var i=t("./core");n(i,o),r.exports=i}var o="undefined"!=typeof e&&e.exports&&"function"==typeof t,i="function"==typeof define&&"object"==typeof define.amd&&define.amd;i?define(r):o?r(t,e.exports,e,t("lolex")):n(sinon)}()},{"./core":61,lolex:41}],66:[function(t,e,n){(function(n){"undefined"==typeof sinon&&(this.sinon={}),function(n){"use strict";function r(t){function e(){this.readyState=e.UNSENT,this.requestBody=null,this.requestHeaders={},this.status=0,this.timeout=null,"function"==typeof e.onCreate&&e.onCreate(this)}function r(t){if(t.readyState!==e.OPENED)throw new Error("INVALID_STATE_ERR");if(t.sendFlag)throw new Error("INVALID_STATE_ERR")}function o(t){if(t.readyState===e.UNSENT)throw new Error("Request not sent");if(t.readyState===e.DONE)throw new Error("Request done")}function s(t){if("string"!=typeof t){var e=new Error("Attempted to respond to fake XDomainRequest with "+t+", which is not a string.");throw e.name="InvalidBodyException",e}}t.xdr=i,t.extend(e.prototype,t.EventTarget,{open:function(t,n){this.method=t,this.url=n,this.responseText=null,this.sendFlag=!1,this.readyStateChange(e.OPENED)},readyStateChange:function(n){this.readyState=n;var r="";switch(this.readyState){case e.UNSENT:break;case e.OPENED:break;case e.LOADING:this.sendFlag&&(r="onprogress");break;case e.DONE:r=this.isTimeout?"ontimeout":this.errorFlag||this.status<200||this.status>299?"onerror":"onload"}if(r&&"function"==typeof this[r])try{this[r]()}catch(o){t.logError("Fake XHR "+r+" handler",o)}},send:function(t){r(this),/^(get|head)$/i.test(this.method)||(this.requestBody=t),this.requestHeaders["Content-Type"]="text/plain;charset=utf-8",this.errorFlag=!1,this.sendFlag=!0,this.readyStateChange(e.OPENED),"function"==typeof this.onSend&&this.onSend(this)},abort:function(){this.aborted=!0,this.responseText=null,this.errorFlag=!0,this.readyState>t.FakeXDomainRequest.UNSENT&&this.sendFlag&&(this.readyStateChange(t.FakeXDomainRequest.DONE),this.sendFlag=!1)},setResponseBody:function(t){o(this),s(t);var n=this.chunkSize||10,r=0;this.responseText="";do this.readyStateChange(e.LOADING),this.responseText+=t.substring(r,r+n),r+=n;while(r<t.length);this.readyStateChange(e.DONE)},respond:function(t,e,n){this.status="number"==typeof t?t:200,this.setResponseBody(n||"")},simulatetimeout:function(){this.status=0,this.isTimeout=!0,this.responseText=void 0,this.readyStateChange(e.DONE)}}),t.extend(e,{UNSENT:0,OPENED:1,LOADING:3,DONE:4}),t.useFakeXDomainRequest=function(){return t.FakeXDomainRequest.restore=function(e){i.supportsXDR&&(n.XDomainRequest=i.GlobalXDomainRequest),delete t.FakeXDomainRequest.restore,e!==!0&&delete t.FakeXDomainRequest.onCreate},i.supportsXDR&&(n.XDomainRequest=t.FakeXDomainRequest),t.FakeXDomainRequest},t.FakeXDomainRequest=e}function o(t,e,n){var o=t("./core");t("../extend"),t("./event"),t("../log_error"),r(o),n.exports=o}var i={XDomainRequest:n.XDomainRequest};i.GlobalXDomainRequest=n.XDomainRequest,i.supportsXDR="undefined"!=typeof i.GlobalXDomainRequest,i.workingXDR=i.supportsXDR?i.GlobalXDomainRequest:!1;var s="undefined"!=typeof e&&e.exports&&"function"==typeof t,a="function"==typeof define&&"object"==typeof define.amd&&define.amd;a?define(o):s?o(t,e.exports,e):r(sinon)}("undefined"!=typeof n?n:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../extend":49,"../log_error":51,"./core":61,"./event":62}],67:[function(t,e,n){(function(n){!function(n,r){"use strict";function o(t){var e="undefined"!=typeof t.XMLHttpRequest;if(e)return t.XMLHttpRequest;var n="undefined"!=typeof t.ActiveXObject;return n?function(){return new t.ActiveXObject("MSXML2.XMLHTTP.3.0")}:!1}function i(){this.eventListeners={progress:[],load:[],abort:[],error:[]}}function s(){function t(t){e.addEventListener(t,function(n){var r=e["on"+t];r&&"function"==typeof r&&r.call(this,n)})}this.readyState=s.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new i,this.responseType="",this.response="",T.supportsCORS&&(this.withCredentials=!1);for(var e=this,n=["loadstart","load","abort","loadend"],r=n.length-1;r>=0;r--)t(n[r]);
"function"==typeof s.onCreate&&s.onCreate(this)}function a(t){if(t.readyState!==s.OPENED)throw new Error("INVALID_STATE_ERR");if(t.sendFlag)throw new Error("INVALID_STATE_ERR")}function c(t,e){e=e.toLowerCase();for(var n in t)if(n.toLowerCase()===e)return n;return null}function u(t,e){if(t)for(var n=0,r=t.length;r>n;n+=1)e(t[n])}function l(t,e){for(var n=0;n<t.length;n++)if(e(t[n])===!0)return!0;return!1}function f(t){if(t.readyState!==s.OPENED)throw new Error("INVALID_STATE_ERR - "+t.readyState)}function h(t){if(t.readyState===s.DONE)throw new Error("Request done")}function d(t){if(t.async&&t.readyState!==s.HEADERS_RECEIVED)throw new Error("No headers received")}function p(t){if("string"!=typeof t){var e=new Error("Attempted to respond to fake XMLHttpRequest with "+t+", which is not a string.");throw e.name="InvalidBodyException",e}}function y(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=256)throw new TypeError("arraybuffer or blob responseTypes require binary string, invalid character "+t[r]+" found.");n[r]=o}return e}function g(t){return!t||/(text\/xml)|(application\/xml)|(\+xml)/.test(t)}function m(t,e,n){if(""===t||"text"===t)return n;if(k&&"arraybuffer"===t)return y(n);if("json"===t)try{return JSON.parse(n)}catch(r){return null}else{if(j&&"blob"===t){var o={};return e&&(o.type=e),new Blob([y(n)],o)}if("document"===t)return g(e)?s.parseXML(n):null}throw new Error("Invalid responseType "+t)}function v(t){""===t.responseType||"text"===t.responseType?t.response=t.responseText="":t.response=t.responseText=null,t.responseXML=null}function b(t){t.xhr=T,t.extend(s.prototype,t.EventTarget,{async:!0,open:function(t,e,n,r,o){if(this.method=t,this.url=e,this.async="boolean"==typeof n?n:!0,this.username=r,this.password=o,v(this),this.requestHeaders={},this.sendFlag=!1,s.useFilters===!0){var i=arguments,a=l(s.filters,function(t){return t.apply(this,i)});if(a)return s.defake(this,arguments)}this.readyStateChange(s.OPENED)},readyStateChange:function(e){this.readyState=e;var n=new t.Event("readystatechange",!1,!1,this);if("function"==typeof this.onreadystatechange)try{this.onreadystatechange(n)}catch(r){t.logError("Fake XHR onreadystatechange handler",r)}switch(this.readyState){case s.DONE:x&&(this.upload.dispatchEvent(new t.ProgressEvent("progress",{loaded:100,total:100})),this.dispatchEvent(new t.ProgressEvent("progress",{loaded:100,total:100}))),this.upload.dispatchEvent(new t.Event("load",!1,!1,this)),this.dispatchEvent(new t.Event("load",!1,!1,this)),this.dispatchEvent(new t.Event("loadend",!1,!1,this))}this.dispatchEvent(n)},setRequestHeader:function(t,e){if(a(this),O[t]||/^(Sec-|Proxy-)/.test(t))throw new Error('Refused to set unsafe header "'+t+'"');this.requestHeaders[t]?this.requestHeaders[t]+=","+e:this.requestHeaders[t]=e},setResponseHeaders:function(t){f(this),this.responseHeaders={};for(var e in t)t.hasOwnProperty(e)&&(this.responseHeaders[e]=t[e]);this.async?this.readyStateChange(s.HEADERS_RECEIVED):this.readyState=s.HEADERS_RECEIVED},send:function(e){if(a(this),!/^(get|head)$/i.test(this.method)){var n=c(this.requestHeaders,"Content-Type");if(this.requestHeaders[n]){var r=this.requestHeaders[n].split(";");this.requestHeaders[n]=r[0]+";charset=utf-8"}else!A||e instanceof FormData||(this.requestHeaders["Content-Type"]="text/plain;charset=utf-8");this.requestBody=e}this.errorFlag=!1,this.sendFlag=this.async,v(this),this.readyStateChange(s.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new t.Event("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,v(this),this.errorFlag=!0,this.requestHeaders={},this.responseHeaders={},this.readyState>s.UNSENT&&this.sendFlag&&(this.readyStateChange(s.DONE),this.sendFlag=!1),this.readyState=s.UNSENT,this.dispatchEvent(new t.Event("abort",!1,!1,this)),this.upload.dispatchEvent(new t.Event("abort",!1,!1,this)),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(t){return this.readyState<s.HEADERS_RECEIVED?null:/^Set-Cookie2?$/i.test(t)?null:(t=c(this.responseHeaders,t),this.responseHeaders[t]||null)},getAllResponseHeaders:function(){if(this.readyState<s.HEADERS_RECEIVED)return"";var t="";for(var e in this.responseHeaders)this.responseHeaders.hasOwnProperty(e)&&!/^Set-Cookie2?$/i.test(e)&&(t+=e+": "+this.responseHeaders[e]+"\r\n");return t},setResponseBody:function(t){h(this),d(this),p(t);var e=this.getResponseHeader("Content-Type"),n=""===this.responseType||"text"===this.responseType;if(v(this),this.async){var r=this.chunkSize||10,o=0;do this.readyStateChange(s.LOADING),n&&(this.responseText=this.response+=t.substring(o,o+r)),o+=r;while(o<t.length)}this.response=m(this.responseType,e,t),n&&(this.responseText=this.response),"document"===this.responseType?this.responseXML=this.response:""===this.responseType&&g(e)&&(this.responseXML=s.parseXML(this.responseText)),this.readyStateChange(s.DONE)},respond:function(t,e,n){this.status="number"==typeof t?t:200,this.statusText=s.statusCodes[this.status],this.setResponseHeaders(e||{}),this.setResponseBody(n||"")},uploadProgress:function(e){x&&this.upload.dispatchEvent(new t.ProgressEvent("progress",e))},downloadProgress:function(e){x&&this.dispatchEvent(new t.ProgressEvent("progress",e))},uploadError:function(e){E&&this.upload.dispatchEvent(new t.CustomEvent("error",{detail:e}))}}),t.extend(s,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),t.useFakeXMLHttpRequest=function(){return s.restore=function(t){T.supportsXHR&&(r.XMLHttpRequest=T.GlobalXMLHttpRequest),T.supportsActiveX&&(r.ActiveXObject=T.GlobalActiveXObject),delete s.restore,t!==!0&&delete s.onCreate},T.supportsXHR&&(r.XMLHttpRequest=s),T.supportsActiveX&&(r.ActiveXObject=function(t){return"Microsoft.XMLHTTP"===t||/^Msxml2\.XMLHTTP/i.test(t)?new s:new T.GlobalActiveXObject(t)}),s},t.FakeXMLHttpRequest=s}function w(t,e,n){var r=t("./core");t("../extend"),t("./event"),t("../log_error"),b(r),n.exports=r}var x="undefined"!=typeof ProgressEvent,E="undefined"!=typeof CustomEvent,A="undefined"!=typeof FormData,k="undefined"!=typeof ArrayBuffer,j="function"==typeof Blob,T={XMLHttpRequest:r.XMLHttpRequest};T.GlobalXMLHttpRequest=r.XMLHttpRequest,T.GlobalActiveXObject=r.ActiveXObject,T.supportsActiveX="undefined"!=typeof T.GlobalActiveXObject,T.supportsXHR="undefined"!=typeof T.GlobalXMLHttpRequest,T.workingXHR=o(r),T.supportsCORS=T.supportsXHR&&"withCredentials"in new T.GlobalXMLHttpRequest;var O={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};i.prototype.addEventListener=function(t,e){this.eventListeners[t].push(e)},i.prototype.removeEventListener=function(t,e){for(var n=this.eventListeners[t]||[],r=0,o=n.length;o>r;++r)if(n[r]===e)return n.splice(r,1)},i.prototype.dispatchEvent=function(t){for(var e,n=this.eventListeners[t.type]||[],r=0;null!=(e=n[r]);r++)e(t)};var S=function(t,e,n){switch(n.length){case 0:return t[e]();case 1:return t[e](n[0]);case 2:return t[e](n[0],n[1]);case 3:return t[e](n[0],n[1],n[2]);case 4:return t[e](n[0],n[1],n[2],n[3]);case 5:return t[e](n[0],n[1],n[2],n[3],n[4])}};s.filters=[],s.addFilter=function(t){this.filters.push(t)};var C=/MSIE 6/;s.defake=function(t,e){var n=new T.workingXHR;u(["open","setRequestHeader","send","abort","getResponseHeader","getAllResponseHeaders","addEventListener","overrideMimeType","removeEventListener"],function(e){t[e]=function(){return S(n,e,arguments)}});var r=function(e){u(e,function(e){try{t[e]=n[e]}catch(r){if(!C.test(navigator.userAgent))throw r}})},o=function(){t.readyState=n.readyState,n.readyState>=s.HEADERS_RECEIVED&&r(["status","statusText"]),n.readyState>=s.LOADING&&r(["responseText","response"]),n.readyState===s.DONE&&r(["responseXML"]),t.onreadystatechange&&t.onreadystatechange.call(t,{target:t})};if(n.addEventListener){for(var i in t.eventListeners)t.eventListeners.hasOwnProperty(i)&&u(t.eventListeners[i],function(t){n.addEventListener(i,t)});n.addEventListener("readystatechange",o)}else n.onreadystatechange=o;S(n,"open",e)},s.useFilters=!1,s.parseXML=function(t){if(""!==t)try{if("undefined"!=typeof DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}var n=new window.ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(t),n}catch(r){}return null},s.statusCodes={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};var I="undefined"!=typeof e&&e.exports&&"function"==typeof t,P="function"==typeof define&&"object"==typeof define.amd&&define.amd;return P?void define(w):I?void w(t,e.exports,e):void(n&&b(n))}("object"==typeof sinon&&sinon,"undefined"!=typeof n?n:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../extend":49,"../log_error":51,"./core":61,"./event":62}],68:[function(t,e,n){!function(n){"use strict";function r(t){function e(t,n,r,o,i){var s,a;if("function"==typeof Object.getOwnPropertyNames)Object.getOwnPropertyNames(t).forEach(function(e){if(!i[e]){i[e]=!0;var s="function"==typeof Object.getOwnPropertyDescriptor(t,e).get?o:t;n.call(r,s[e],e,s)}}),s=Object.getPrototypeOf(t),s&&e(s,n,r,o,i);else for(a in t)n.call(r,t[a],a,t)}function n(t,n,r){return e(t,n,r,t,{})}return t.walk=n,t.walk}function o(t,e,n){var o=t("./util/core");n.exports=r(o)}var i="undefined"!=typeof e&&e.exports&&"function"==typeof t,s="function"==typeof define&&"object"==typeof define.amd&&define.amd;return s?void define(o):i?void o(t,e.exports,e):void(n&&r(n))}("object"==typeof sinon&&sinon)},{"./util/core":61}],69:[function(t,e,n){arguments[4][35][0].apply(n,arguments)},{"./lib/type":70,dup:35}],70:[function(t,e,n){function r(t){var e=Object.prototype.toString.call(t).match(i)[1].toLowerCase();return"function"==typeof Promise&&t instanceof Promise?"promise":null===t?"null":void 0===t?"undefined":e}function o(){return this instanceof o?void(this.tests={}):new o}var n=e.exports=r,i=/^\[object (.*)\]$/;n.Library=o,o.prototype.of=r,o.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},o.prototype.test=function(t,e){if(e===r(t))return!0;var n=this.tests[e];if(n&&"regexp"===r(n))return n.test(t);if(n&&"function"===r(n))return n(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},{}],71:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],72:[function(t,e,n){(function(e,r){function o(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(e)?r.showHidden=e:e&&n._extend(r,e),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),c(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,e,r){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return b(o)||(o=c(t,o,r)),o}var i=u(t,e);if(i)return i;var s=Object.keys(e),y=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),j(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(T(e)){var g=e.name?": "+e.name:"";return t.stylize("[Function"+g+"]","special")}if(E(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(k(e))return t.stylize(Date.prototype.toString.call(e),"date");if(j(e))return l(e)}var m="",v=!1,w=["{","}"];if(p(e)&&(v=!0,w=["[","]"]),T(e)){var x=e.name?": "+e.name:"";m=" [Function"+x+"]"}if(E(e)&&(m=" "+RegExp.prototype.toString.call(e)),k(e)&&(m=" "+Date.prototype.toUTCString.call(e)),j(e)&&(m=" "+l(e)),0===s.length&&(!v||0==e.length))return w[0]+m+w[1];if(0>r)return E(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var A;return A=v?f(t,e,r,y,s):s.map(function(n){return h(t,e,r,y,n,v)}),t.seen.pop(),d(A,m,w)}function u(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,o){for(var i=[],s=0,a=e.length;a>s;++s)C(e,String(s))?i.push(h(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}function h(t,e,n,r,o,i){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),C(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=g(n)?c(t,u.value,null):c(t,u.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),x(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function x(t){return void 0===t}function E(t){return A(t)&&"[object RegExp]"===S(t)}function A(t){return"object"==typeof t&&null!==t}function k(t){return A(t)&&"[object Date]"===S(t)}function j(t){return A(t)&&("[object Error]"===S(t)||t instanceof Error)}function T(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function S(t){return Object.prototype.toString.call(t)}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,s=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];i>n;a=r[++n])s+=g(a)||!A(a)?" "+a:" "+o(a);return s},n.deprecate=function(t,o){function i(){if(!s){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation,s=!0}return t.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return i};var P,_={};n.debuglog=function(t){if(x(P)&&(P=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!_[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){e.pid;_[t]=function(){n.format.apply(n,arguments)}}else _[t]=function(){};return _[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=y,n.isNull=g,n.isNullOrUndefined=m,n.isNumber=v,n.isString=b,n.isSymbol=w,n.isUndefined=x,n.isRegExp=E,n.isObject=A,n.isDate=k,n.isError=j,n.isFunction=T,n.isPrimitive=O,n.isBuffer=t("./support/isBuffer");n.log=function(){},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!A(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":71,_process:42,inherits:39}],73:[function(t,e,n){"use strict";function r(){i(this,r),s=this,this._state=a,this._session=new c("session","2700000"),this._idle=new c("idle","300000"),this._afk={timeoutId:null,startDate:null},this.init(),chrome.idle.setDetectionInterval(15),u.on("setStateOn",function(){s._state.setOn(),s.switchOn()}).on("setStateOff",function(){s._state.setOff(),s.switchOff()}).on("restartSession",function(){return s.restartSession(),s._session.getStartDate()}).on("setSessionPeriod",function(t){s._session.setPeriod(t.value),s.endSession(),s.endIdle(),u.send("idleInded"),s.startSession(),u.send("sessionStarted")}).on("setIdlePeriod",function(t){s._idle.setPeriod(t.value)}).on("mute",function(){h.setVolume(0)}).on("unmute",function(){h.setVolume(1)})}function o(t,e){return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}),t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s,a=t("./state"),c=t("./Period"),u=t("./Router")("backend"),l=t("./badger"),f=(t("./utils"),t("./notify")),h=t("./audio");o(r.prototype,{init:function(){this._state.isOn()&&this.switchOn()},switchOn:function(){this.addIdleListener(),this.addNotifyBtnListener(),this.startSession(),u.send("sessionStarted"),l.enableIcon()},switchOff:function(){this.isAfk()&&this.dontTrackAfk(),this.endSession(),this.endIdle(),this.rmIdleListener(),this.rmNotifyBtnListener(),l.disableIcon(),h.stop(),f.closeAll()},idleListener:function(t){var e=s._idle.isRunning(),n=s._session.isRunning();"idle"===t&&(n&&s.trackAfk(),n||e||(s.startIdle(),f.closeSessionEnded()),u.send("idle")),"active"===t&&(n&&s.dontTrackAfk(),e&&(s.endIdle(),f.sessionEnded(),h.play(1)),e||n||(f.closeIdleEnded(),s.startSession()),u.send("active"))},addIdleListener:function(){chrome.idle.onStateChanged.addListener(this.idleListener)},rmIdleListener:function(){chrome.idle.onStateChanged.removeListener(this.idleListener)},notifyBtnListener:function(t,e){chrome.notifications.clear(t,function(){}),"sessionEnd"===t&&(0===e?s.startSession():s.startSession(3e5))},addNotifyBtnListener:function(){chrome.notifications.onButtonClicked.addListener(this.notifyBtnListener)},rmNotifyBtnListener:function(){chrome.notifications.onButtonClicked.removeListener(this.notifyBtnListener)},startSession:function(t){var e=t||+this._session.getPeriod();this._session.setStatus("running"),this._session.setStartDate(Date.now()),t?u.send("sessionStartedCustom",e):u.send("sessionStarted"),this._session.timeoutId=setTimeout(function(){s.isAfk()?h.play(1):(f.sessionEnded(),h.play(1)),s.endSession()},e)},endSession:function(){clearTimeout(this._session.timeoutId),this._session.timeoutId=null,this._session.resetStatus(),this._session.resetStartDate(),u.send("sessionEnded"),this.isAfk()&&(this.dontTrackAfk(),this.startIdle())},restartSession:function(){h.stop(),f.closeAll(),this.endSession(),this.startSession()},startIdle:function(t){var e=t||+this._idle.getPeriod();this._idle.setStatus("running"),this._idle.setStartDate(Date.now()),u.send("idleStarted"),this._idle.timeoutId=setTimeout(function(){s.endIdle(),f.idleEnded(),h.play(3)},e)},endIdle:function(){clearTimeout(this._idle.timeoutId),this._idle.timeoutId=null,this._idle.resetStatus(),this._idle.resetStartDate(),u.send("idleEnded")},trackAfk:function(){var t=this._idle.getPeriod();this._afk.startDate=Date.now(),u.send("afk",this._afk.startDate),this._afk.timeoutId=setTimeout(function(){s.dontTrackAfk(),s.endSession(),u.send("sessionEnded")},t)},dontTrackAfk:function(){clearTimeout(this._afk.timeoutId),this._afk.timeoutId=null,this._afk.startDate=null,u.send("notAfk")},isAfk:function(){return!!this._afk.timeoutId}}),e.exports=r},{"./Period":74,"./Router":75,"./audio":77,"./badger":78,"./notify":79,"./state":80,"./utils":81}],74:[function(t,e,n){"use strict";function r(t,e){i(this,r),this._status=new s(t+".status","stopped"),this._period=new s(t+".period",e),this._startDate=new s(t+".startDate","0"),this._status.reset(),this._startDate.reset(),this.timeoutId=null}function o(t,e){return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}),t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=t("./Static");e.exports=r,o(r.prototype,{isRunning:function(){return"running"===this.getStatus()},setStatus:function(t){return this._status.save(t)},getStatus:function(){return this._status.load()},resetStatus:function(){return this._status.reset()},setPeriod:function(t){return this._period.save(t)},getPeriod:function(){return this._period.load()},resetPeriod:function(){this._period.reset()},setStartDate:function(t){this._startDate.save(t)},getStartDate:function(){this._startDate.load()},resetStartDate:function(){this._startDate.reset()}})},{"./Static":76}],75:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this._id=t,this._listeners={};var e=this;this.send=function(t,e,n){chrome.runtime.sendMessage({id:this._id,name:t,value:e},n)},this.on=function(t,n){return this._listeners[t]=function(r,o,i){r.id!==e._id&&r.name===t&&i(n(r))},chrome.runtime.onMessage.addListener(this._listeners[t]),this},this.deregister=function(t){t in this._listeners&&(chrome.runtime.onMessage.removeListener(this._listeners[t]),delete this._listeners[t])}}e.exports=r},{}],76:[function(t,e,n){"use strict";function r(t,e){i(this,r),this._name=t,this._defaultValue=e,this.load()}function o(t,e){return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}),t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.exports=r,o(r.prototype,{reset:function(){return this.save(this._defaultValue)},load:function(){var t=window.localStorage.getItem(this._name);return t?t:this.reset()},save:function(t){return window.localStorage.setItem(this._name,t),this.load()}})},{}],77:[function(t,e,n){"use strict";function r(t){a.src="audio/"+t+".ogg",a.volume=c.load(),a.play()}function o(){a.src=""}function i(t){return c.save(t)}var s=t("./Static.js");n.play=r,n.stop=o,n.setVolume=i;var a=new Audio(""),c=new s("volume","1");document.body.appendChild(a)},{"./Static.js":76}],78:[function(t,e,n){"use strict";function r(){chrome.browserAction.setIcon({path:"../img/eye-icon-off-19.png"},function(){})}function o(){chrome.browserAction.setIcon({path:"../img/eye-icon-on-19.png"},function(){})}n.enableIcon=o,n.disableIcon=r},{}],79:[function(t,e,n){"use strict";function r(){chrome.notifications.create("sessionEnd",u,function(t){setTimeout(function(){chrome.notifications.clear(t,function(){})},23e3)})}function o(){chrome.notifications.clear("sessionEndOpts",function(){})}function i(){c=new Notification("Good job!",l)}function s(){c&&(c.close(),c=null)}function a(){o(),s()}var c,u={type:"basic",iconUrl:"../img/eye128.jpg",title:"Take a break!",message:"Don't touch the computer until break time ended",contextMessage:"Sight keeper ",priority:2,buttons:[{title:"SKIP",iconUrl:"../img/ignore_ico.jpg"},{title:"Remind in 5 minutes",iconUrl:"../img/remind_ico.jpg"}]},l={body:"Now you can proceed",icon:"../img/eye48.png"};n.sessionEnded=r,n.closeSessionEnded=o,n.idleEnded=i,n.closeIdleEnded=s,n.closeAll=a},{}],80:[function(t,e,n){"use strict";function r(){return c.load()}function o(){c.save("on")}function i(){c.save("off")}function s(){return"on"===r()}var a=t("./Static.js");n.get=r,n.setOn=o,n.setOff=i,n.isOn=s;var c=new a("state","on")},{"./Static.js":76}],81:[function(t,e,n){"use strict";e.exports={ms2min:function(t){return+(t/6e4).toFixed(1)},min2ms:function(t){return 6e4*t},sec2ms:function(t){return 1e3*t},ms2sec:function(t){return t/1e3}}},{}],82:[function(t,e,n){e.exports=function(){var t=document.createElement("audio");return t.play=function(){},t.stop=function(){},t}},{}],83:[function(t,e,n){e.exports={runtime:{sendMessage:function(){},onMessage:{addListener:function(){},removeListener:function(){}}},notifications:{create:function(){},clear:function(){},onButtonClicked:{addListener:function(){},removeListener:function(){}}},browserAction:{setIcon:function(){}},idle:{onStateChanged:{addListener:function(){},removeListener:function(){}},setDetectionInterval:function(){}}}},{}],84:[function(t,e,n){"use strict";var r=t("chai").expect,o=t("sinon");window.chrome=t("./chrome-mock"),window.Audio=t("./audio-mock"),describe("Static module",function(){var e=t("../src/js/Static"),n=o.spy(window.localStorage,"getItem"),i=o.spy(window.localStorage,"setItem");describe("static instance",function(){var t=new e("name","defaultValue");it("should contain correct private props with correct values",function(){r(t._name).to.equal("name"),r(t._defaultValue).to.equal("defaultValue")})}),describe("load method",function(){var t=new e("name","defaultValue"),s=o.stub(t,"reset");after(function(){n.reset(),i.reset(),s.restore()}),it("should return retrieved value ",function(){r(t.load()).to.equal("defaultValue"),r(s.notCalled).ok}),it("should call reset method is there was an error while retrieving the value",function(){window.localStorage.setItem("name",""),r(t.load()).to.equal(void 0),r(s.calledOnce).ok})}),describe("save method",function(){var t=new e("name","defaultValue"),n=o.stub(t,"load");after(function(){i.reset(),i.reset(),n.restore()}),it("should call localStorage.setItem with correct args",function(){t.save("dick"),r(i.lastCall.calledWith(t._name,"dick")).ok}),it("should call load method",function(){r(n.calledOnce).ok})}),describe("reset method",function(){var t=new e("name","default"),s=o.stub(t,"save");s.onCall(0).returns("xyz"),after(function(){n.reset(),i.reset(),s.restore()}),it("should return default value",function(){r(t.reset()).to.equal("xyz")}),it("should call save method",function(){r(s.calledOnce).ok})})}),describe("Router module",function(){var e=t("../src/js/Router");describe("router instance",function(){var t=new e("backend"),n=e("backend");it("should have proper private props",function(){r(t._id).to.equal("backend"),r(t._listeners).to.deep.equal({})}),it("should act like a save calling constructor",function(){r(n._id).to.equal("backend")})}),describe("on method",function(){var t=new e("backend"),n=o.spy(chrome.runtime.onMessage,"addListener"),i="session",s=function(){};t.on("session",s),it("should proprly create and save new handler to _listeners object",function(){r(t._listeners[i]).to.be.a("function"),r(n.calledWith(t._listeners[i])).ok,n.reset()}),it("should return router object itself",function(){r(t.on("session",function(){})).to.equal(t)})}),describe("send method ",function(){var t=new e("backend"),n=o.spy(chrome.runtime,"sendMessage"),i=function(){};t.send("status","off",i),it("should call chrome.runtime.sendMEssage method with proper arguments",function(){r(n.calledOnce).ok,r(n.args[0][0]).to.deep.equal({id:"backend",name:"status",value:"off"}),r(n.args[0][1]).to.equal(i)}),n.restore()}),describe("deregister method",function(){var t=o.spy(chrome.runtime.onMessage,"removeListener"),n=new e("backend");n._listeners.session=function(){},n.deregister("session"),it("should call chrome.runtime.onMessage.removeListener",function(){r(t.calledOnce).ok}),it("should remove handler from _listeners collection",function(){r(typeof n._listeners.session).to.equal("undefined")}),t.restore()})}),describe("state module",function(){var e=t("../src/js/state");after(function(){window.localStorage.clear()}),it("get method should return current state",function(){r(e.get()).to.equal("on")}),it('setOff method should set state to "off" and return this value ',function(){e.setOff(),r(e.get()).to.equal("off")}),it('setOn method should set state to "on" and return this value ',function(){e.setOn(),r(e.get()).to.equal("on")}),it('isOn method should return true if current state is "on"',function(){r(e.isOn()).to.equal(!0)})}),describe("notify module",function(){var e=t("../src/js/notify"),n=o.spy(chrome.notifications,"create"),i=o.spy(chrome.notifications,"clear");after(function(){n.restore(),i.restore()}),it(".sessionEnded()",function(){e.sessionEnded(),r(n.calledOnce).ok,r(n.args[0][0]).to.be.a("string"),r(n.args[0][1]).to.be.an("object"),r(n.args[0][2]).to.be.a("function")}),it(".closeAll",function(){e.closeAll(),r(i.calledOnce).ok})}),describe("badger module",function(){var e=t("../src/js/badger"),n=o.spy(chrome.browserAction,"setIcon");e.enableIcon(),e.disableIcon(),r(n.calledTwice).ok,n.restore()}),describe("utils module",function(){var e=t("../src/js/utils");it("ms2min",function(){r(e.ms2min(6e4)).to.equal(1),r(e.ms2min(3e4)).to.equal(.5),r(e.ms2min(15e3)).to.equal(.3)}),it("min2ms",function(){r(e.min2ms(1)).to.equal(6e4),r(e.min2ms(.5)).to.equal(3e4),r(e.min2ms(41)).to.equal(246e4)}),it("sec2ms",function(){r(e.sec2ms(6)).to.equal(6e3),r(e.sec2ms(26)).to.equal(26e3)}),it("ms2sec",function(){r(e.ms2sec(6e4)).to.equal(60)})}),describe("Engine module",function(){var e=t("../src/js/Engine"),n=new e;describe("should have all the attributes",function(){it("check attributes",function(){r(n._state).ok,r(n._session).ok,r(n._idle).ok,r(n._afk).ok})}),describe("testing methods ..",function(){describe("init method",function(){var t;beforeEach(function(){t=o.stub(n,"switchOn")}),afterEach(function(){t.restore()}),it("should call switchOn ",function(){window.localStorage.setItem("state","on"),n.init(),r(t.calledOnce).ok,window.localStorage.setItem("state","off")}),it("should not call switchOn",function(){n.init(),r(t.notCalled).ok})}),describe("idle listener handler",function(){var t=o.stub(n,"startSession"),e=o.stub(n,"trackAfk"),i=o.stub(n,"startIdle"),s=o.stub(n,"dontTrackAfk"),a=o.stub(n,"endIdle");after(function(){t.restore(),e.restore(),i.restore(),s.restore(),a.restore()}),it('fired "idle" , should call trackAfk if session period is running',function(){window.localStorage.setItem("session.status","running"),window.localStorage.setItem("idle.status","stopped"),n.idleListener("idle"),r(e.calledOnce).ok}),it('fired "idle , should call startIdle if session status "stopped" and idle status "stopped" ',function(){window.localStorage.setItem("session.status","stopped"),window.localStorage.setItem("idle.status","stopped"),n.idleListener("idle"),r(i.calledOnce).ok,r(e.calledOnce).ok}),it("active fired, should call dontTrackAfk, session is running",function(){window.localStorage.setItem("session.status","running"),window.localStorage.setItem("idle.status","stopped"),n.idleListener("active"),r(s.calledOnce).ok}),it("active fired, should call endIdle, idle session is running",function(){window.localStorage.setItem("session.status","stopped"),
window.localStorage.setItem("idle.status","running"),n.idleListener("active"),r(a.calledOnce).ok}),it("active fire, should call startSession, session is stopped and idle is stopped as well",function(){window.localStorage.setItem("session.status","stopped"),window.localStorage.setItem("idle.status","stopped"),n.idleListener("active"),r(t.calledOnce).ok})})})})},{"../src/js/Engine":73,"../src/js/Router":75,"../src/js/Static":76,"../src/js/badger":78,"../src/js/notify":79,"../src/js/state":80,"../src/js/utils":81,"./audio-mock":82,"./chrome-mock":83,chai:4,sinon:44}]},{},[84]);