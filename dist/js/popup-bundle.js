!function e(t,n,s){function i(r,a){if(!n[r]){if(!t[r]){var d="function"==typeof require&&require;if(!a&&d)return d(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return i(n?n:e)},u,u.exports,e,t,n,s)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)i(s[r]);return i}({1:[function(e,t,n){"use strict";function s(e){this._id=e,this._listeners={};var t=this;this.send=function(e,t,n){chrome.runtime.sendMessage({id:this._id,name:e,value:t},n)},this.on=function(e,n){return this._listeners[e]=function(s,i,o){s.id!==t._id&&s.name===e&&o(n(s))},chrome.runtime.onMessage.addListener(this._listeners[e]),this},this.deregister=function(e){e in this._listeners&&(chrome.runtime.onMessage.removeListener(this._listeners[e]),delete this._listeners[e])}}t.exports=s},{}],2:[function(e,t,n){"use strict";function s(e,t){o(this,s),this._name=e,this._defaultValue=t,this.load()}function i(e,t){return Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,s)}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports=s,i(s.prototype,{reset:function(){return this.save(this._defaultValue)},load:function(){var e=window.localStorage.getItem(this._name);return e?e:this.reset()},save:function(e){return window.localStorage.setItem(this._name,e),this.load()}})},{}],3:[function(e,t,n){"use strict";function s(e){a.src="audio/"+e+".ogg",a.volume=d.load(),a.play()}function i(){a.src=""}function o(e){return d.save(e)}var r=e("./Static.js");n.play=s,n.stop=i,n.setVolume=o;var a=new Audio(""),d=new r("volume","1");document.body.appendChild(a)},{"./Static.js":2}],4:[function(e,t,n){function s(){var e=+p.getItem("session.startDate");e&&(v.innerHTML=d(e),c=setInterval(function(){v.innerHTML=d(e)},1e3))}function i(){clearInterval(c),v.innerHTML="00:00"}function o(){i(),s()}function r(e){var t=e||Date.now();h.innerHTML=d(t),u=setInterval(function(){h.innerHTML=d(t)},1e3)}function a(){clearInterval(u),h.innerHTML="00:00"}function d(e){return l=new Date(Date.now()-e),f=l.getMinutes(),10>f&&(f="0"+f),m=l.getSeconds(),10>m&&(m="0"+m),f+":"+m}var c,u,l,f,m,v=document.getElementById("session-timer"),h=document.getElementById("idle-timer"),p=window.localStorage;n.showSession=s,n.clearSession=i,n.showIdle=r,n.clearIdle=a,n.restartSession=o},{}],5:[function(e,t,n){"use strict";var s=document.getElementById("btn"),i=document.getElementById("options"),o=document.getElementById("session-input"),r=document.getElementById("session-apply-btn"),a=document.getElementById("session-restart"),d=document.getElementById("idle-input"),c=document.getElementById("idle-apply-btn"),u=document.getElementById("afk"),l=document.getElementById("sounds-btn"),f=e("./Router.js"),m=e("./utils.js"),v=(e("./audio.js"),e("./options_periods")),h=new f("frontend");!function(){var e=window.localStorage.getItem("state"),t=window.localStorage.getItem("session.period"),n=window.localStorage.getItem("idle.period"),r=+window.localStorage.getItem("volume");"on"===e?(s.classList.add("app-btn-active"),v.showSession()):(s.classList.remove("app-btn-active"),i.classList.add("options-disabled")),r?l.classList.remove("disabled"):l.classList.add("disabled"),o.value=m.ms2min(t),d.value=m.ms2min(n)}(),s.addEventListener("click",function(e){this.classList.contains("app-btn-active")?(this.classList.remove("app-btn-active"),i.classList.add("options-disabled"),h.send("setStateOff",null,function(){})):(this.classList.add("app-btn-active"),i.classList.remove("options-disabled"),h.send("setStateOn",null,function(){}))}),a.addEventListener("click",function(){v.clearSession(),h.send("restartSession",null,function(e){})}),o.addEventListener("input",function(e){r.classList.remove("btn-hidden")}),r.addEventListener("click",function(){var e=+o.value,t=o.min,n=o.max;return!e||0>e?void(o.value=t):(t>e&&(o.value=e=t),e>n&&(o.value=e=n),e=m.min2ms(e),this.classList.add("btn-hidden"),void h.send("setSessionPeriod",e,function(){}))}),d.addEventListener("input",function(e){c.classList.remove("btn-hidden")}),c.addEventListener("click",function(){var e=+d.value,t=d.min,n=d.max;return!e||0>e?void(d.value=t):(t>e&&(d.value=e=t),e>n&&(d.value=e=n),e=m.min2ms(e),this.classList.add("btn-hidden"),void h.send("setIdlePeriod",e,function(){}))}),l.addEventListener("click",function(e){var t=+window.localStorage.getItem("volume");t?(h.send("mute"),this.classList.add("disabled")):(h.send("unmute"),this.classList.remove("disabled"))}),i.addEventListener("selectstart",function(e){e.preventDefault()}),h.on("sessionStarted",function(){v.clearIdle(),v.clearSession(),v.showSession()}).on("sessionEnded",function(){v.clearSession()}).on("idleStarted",function(){v.clearSession(),v.clearIdle(),v.showIdle()}).on("idleEnded",function(){v.clearIdle()}).on("idle",function(){u.classList.add("shown")}).on("active",function(){u.classList.remove("shown")}).on("afk",function(e){v.showIdle(e.value)}).on("notAfk",function(){v.clearIdle()})},{"./Router.js":1,"./audio.js":3,"./options_periods":4,"./utils.js":6}],6:[function(e,t,n){"use strict";t.exports={ms2min:function(e){return+(e/6e4).toFixed(1)},min2ms:function(e){return 6e4*e},sec2ms:function(e){return 1e3*e},ms2sec:function(e){return e/1e3}}},{}]},{},[5]);